const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["locale.Dhppz3g2.js","fontawesome.CQaGE5Ir.js","vendor.1z4u6nD6.js"])))=>i.map(i=>d[i]);
import{l as Ao,i as Ho,a as qo,F as Lo}from"./fontawesome.CQaGE5Ir.js";import{d as ee,r as K,a as r,o as l,F as H,b as Q,e as o,n as te,u as se,f as ge,g as R,t as a,i as g,j as w,c as C,k as mo,l as v,v as Fo,m as B,p as G,T as _o,q as pe,s as ce,x as Jo,y as Uo,w as Go,z as Wo,A as Zo,B as Ko,S as Qo,C as Xo}from"./vendor.1z4u6nD6.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();const Yo="5.0.0",ei={version:Yo},si={id:"gradients"},ti=["id"],ni=ee({__name:"Gradients",setup(c){const s=K([{team:"demon",start:"#ce0100",end:"#000"},{team:"townsfolk",start:"#1f65ff",end:"#000"},{team:"minion",start:"#ff6900",end:"#000"},{team:"default",start:"#4E4E4E",end:"#000"}]);return(e,t)=>(l(),r("div",si,[(l(!0),r(H,null,Q(s.value,(n,i)=>(l(),r("svg",{key:i,width:"0",height:"0"},[o("linearGradient",{id:n.team,x1:"50%",y1:"100%",x2:"50%",y2:"0%"},[o("stop",{offset:"0%",style:te({"stop-color":n.end,"stop-opacity":1})},null,4),o("stop",{offset:"100%",style:te({"stop-color":n.start,"stop-opacity":1})},null,4)],8,ti)]))),128))]))}}),ne=(c,s)=>{const e=c.__vccOpts||c;for(const[t,n]of s)e[t]=n;return e},oi=ne(ni,[["__scopeId","data-v-ec29c5d6"]]),ii="/apple-icon.png";function ie(){const c=se();return{t:e=>c.getters.t(e)}}const ai={class:"intro"},li={class:"footer"},ri=ee({__name:"Intro",setup(c){const s=se(),{t:e}=ie(),t=()=>{s.commit("toggleMenu")};return(n,i)=>{const d=ge("font-awesome-icon");return l(),r("div",ai,[i[1]||(i[1]=o("img",{src:ii,alt:"",class:"logo"},null,-1)),o("div",null,[R(a(g(e)("intro.header"))+" ",1),o("span",{class:"button",onClick:t},[w(d,{icon:"cog",class:"fa fa-cog"}),R(" "+a(g(e)("intro.menu")),1)]),R(" "+a(g(e)("intro.body"))+" ",1),o("div",li,[R(a(g(e)("intro.footerStart"))+" ",1),i[0]||(i[0]=o("a",{href:"https://github.com/Pingumask/townsquare",target:"_blank"},"GitHub",-1)),R(" "+a(g(e)("intro.footerEnd")),1)])])])}}}),ci=ne(ri,[["__scopeId","data-v-8009d9c7"]]),gi={id:"controls"},pi=["title"],ui=["title"],mi={class:"headline"},di={key:5},_i={key:0,class:"headline"},vi={key:1,class:"headline"},fi={key:0},hi={class:"headline"},yi={class:"headline"},bi={class:"headline"},ki={href:"https://discord.gg/gD3AB8qCrw",target:"_blank"},wi={href:"https://discord.gg/gD3AB8qCrw",target:"_blank"},Si={href:"https://github.com/Pingumask/townsquare",target:"_blank"},Ci={href:"https://github.com/Pingumask/townsquare",target:"_blank"},$i=ee({__name:"Menu",setup(c,{expose:s}){const{t:e}=ie(),t=se(),n=C(()=>t.state.grimoire),i=C(()=>t.state.session),d=C(()=>t.state.edition),f=C(()=>t.state.players.players),_=K("grimoire"),k=()=>{const z=prompt(e("prompt.background"));(z||z==="")&&t.commit("setBackground",z)},$=()=>{if(i.value.sessionId)return;const z=prompt(e("prompt.createSession"),String(Math.round(Math.random()*1e4)));z&&(t.commit("session/clearVoteHistory"),t.commit("session/setSpectator",!1),t.commit("session/setSessionId",z),t.commit("toggleGrimoire",!1),O())},O=()=>{const x=window.location.href.split("#")[0]+"#"+i.value.sessionId;navigator.clipboard.writeText(x)},u=()=>{if(i.value.isSpectator)return;const z=e("prompt.sendRoles");if(confirm(z)){let x="";for(let F=0;F<f.value.length&&!x;F++)f.value[F].role.forbidden&&(x=f.value[F].role.name);let q=x=="";if(!q){const F=e("prompt.sendRolesWithForbidden1")+x+e("prompt.sendRolesWithForbidden2");q=confirm(F)}q&&(t.commit("session/distributeRoles",!0),setTimeout(()=>{t.commit("session/distributeRoles",!1)},2e3))}},m=()=>{const z=e("prompt.imageOptIn");(n.value.isImageOptIn||confirm(z))&&le()},p=()=>{ue()},b=()=>{if(i.value.sessionId)return S();let z=prompt(e("prompt.joinSession"));z&&z.match(/^https?:\/\//i)&&(z=z.split("#").pop()||null),z&&(t.commit("session/clearVoteHistory"),t.commit("session/setSpectator",!0),t.commit("toggleGrimoire",!1),t.commit("session/setSessionId",z))},S=()=>{confirm(e("prompt.leaveSession"))&&(t.commit("session/setSpectator",!1),t.commit("session/setSessionId",""))},y=()=>{if(i.value.isSpectator||f.value.length>=20)return;const z=prompt(e("prompt.addPlayer"));z&&t.commit("players/add",z)},E=()=>{i.value.isSpectator||confirm(e("prompt.randomizeSeatings"))&&t.dispatch("players/randomize")},V=()=>{i.value.isSpectator||confirm(e("prompt.clearPlayers"))&&(i.value.nomination&&t.commit("session/nomination"),t.commit("players/clear"))},N=()=>{confirm(e("prompt.clearRoles"))&&t.dispatch("players/clearRoles")},D=()=>{t.commit("toggleNight"),n.value.isNight?t.commit("session/setMarkedPlayer",-1):(t.commit("toggleRooster",!0),setTimeout(()=>t.commit("toggleRooster",!1),4e3))},L=()=>{t.commit("toggleOrganVoteMode")},W=()=>{t.commit("toggleRinging",!0),setTimeout(()=>t.commit("toggleRinging",!1),4e3)},J=()=>t.commit("toggleGrimoire"),oe=()=>t.commit("toggleMenu"),le=()=>t.commit("toggleImageOptIn"),ue=()=>t.commit("toggleStreamerMode"),ae=()=>t.commit("toggleMuted"),T=()=>t.commit("toggleNightOrder"),I=()=>t.commit("toggleStatic"),M=z=>t.commit("setZoom",z),h=z=>t.commit("toggleModal",z);return s({addPlayer:y,hostSession:$,joinSession:b,toggleNight:D,toggleRinging:W}),(z,x)=>{const q=ge("font-awesome-icon");return l(),r("div",gi,[mo(o("span",{class:"nomlog-summary",title:`${i.value.voteHistory.length} recent ${i.value.voteHistory.length==1?"nomination":"nominations"}`,onClick:x[0]||(x[0]=F=>h("voteHistory"))},[w(q,{icon:"book-dead",class:"fa fa-book-dead"}),R(" "+a(i.value.voteHistory.length),1)],8,pi),[[Fo,i.value.voteHistory.length&&i.value.sessionId]]),i.value.sessionId?(l(),r("span",{key:0,class:B(["session",{spectator:i.value.isSpectator,reconnecting:i.value.isReconnecting}]),title:`${i.value.playerCount} other players in this session${i.value.ping?" ("+i.value.ping+"ms latency)":""}`,onClick:S},[w(q,{icon:["fas","tower-broadcast"],class:"fa fa-tower-broadcast"}),R(" "+a(i.value.playerCount),1)],10,ui)):v("",!0),o("div",{class:B(["menu",{open:n.value.isMenuOpen}])},[w(q,{icon:"cog",class:"fa fa-cog",onClick:oe}),o("ul",null,[o("li",{class:B(["tabs",_.value])},[w(q,{icon:"book-open",class:"fa fa-book-open",onClick:x[1]||(x[1]=F=>_.value="grimoire")}),w(q,{icon:["fas","tower-broadcast"],class:"fa fa-tower-broadcast",onClick:x[2]||(x[2]=F=>_.value="session")}),i.value.isSpectator?v("",!0):(l(),G(q,{key:0,icon:"users",class:"fa fa-users",onClick:x[3]||(x[3]=F=>_.value="players")})),w(q,{icon:"theater-masks",class:"fa fa-theater-masks",onClick:x[4]||(x[4]=F=>_.value="characters")}),w(q,{icon:"question",class:"fa fa-question",onClick:x[5]||(x[5]=F=>_.value="help")})],2),_.value==="grimoire"?(l(),r(H,{key:0},[o("li",mi,a(g(e)("menu.grimoire.title")),1),f.value.length?(l(),r("li",{key:0,onClick:J},[n.value.isPublic?v("",!0):(l(),r(H,{key:0},[R(a(g(e)("menu.grimoire.hide")),1)],64)),n.value.isPublic?(l(),r(H,{key:1},[R(a(g(e)("menu.grimoire.show")),1)],64)):v("",!0),x[15]||(x[15]=o("em",null,"[G]",-1))])):v("",!0),i.value.isSpectator?v("",!0):(l(),r("li",{key:1,onClick:D},[n.value.isNight?v("",!0):(l(),r(H,{key:0},[R(a(g(e)("menu.grimoire.nightSwitch")),1)],64)),n.value.isNight?(l(),r(H,{key:1},[R(a(g(e)("menu.grimoire.daySwitch")),1)],64)):v("",!0),x[16]||(x[16]=o("em",null,"[S]",-1))])),i.value.isSpectator?v("",!0):(l(),r("li",{key:2,onClick:W},[R(a(g(e)("menu.grimoire.ringBell"))+" ",1),x[17]||(x[17]=o("em",null,"[B]",-1))])),i.value.isSpectator?v("",!0):(l(),r("li",{key:3,onClick:L},[R(a(g(e)("menu.grimoire.organGrinder"))+" ",1),o("em",null,[w(q,{icon:["fas",n.value.isOrganVoteMode?"check-square":"square"]},null,8,["icon"])])])),i.value.isSpectator?(l(),r("li",{key:4,onClick:T},[R(a(g(e)("menu.grimoire.order"))+" ",1),o("em",null,[w(q,{icon:["fas",n.value.isNightOrder?"check-square":"square"]},null,8,["icon"])])])):v("",!0),f.value.length?(l(),r("li",di,[R(a(g(e)("menu.grimoire.zoom"))+" ",1),o("em",null,[w(q,{icon:"search-minus",class:"fa fa-search-minus",onClick:x[6]||(x[6]=F=>M(n.value.zoom-1))}),R(" "+a(Math.round(100+n.value.zoom*10))+"% ",1),w(q,{icon:"search-plus",class:"fa fa-search-plus",onClick:x[7]||(x[7]=F=>M(n.value.zoom+1))})])])):v("",!0),o("li",{onClick:k},[R(a(g(e)("menu.grimoire.background"))+" ",1),o("em",null,[w(q,{icon:"image",class:"fa fa-image"})])]),d.value.isOfficial?v("",!0):(l(),r("li",{key:6,onClick:m},[o("small",null,a(g(e)("menu.grimoire.customImages")),1),o("em",null,[w(q,{icon:["fas",n.value.isImageOptIn?"check-square":"square"]},null,8,["icon"])])])),o("li",{onClick:p},[o("small",null,a(g(e)("menu.grimoire.streamerMode")),1),o("em",null,[w(q,{icon:["fas",n.value.isStreamerMode?"check-square":"square"]},null,8,["icon"])])]),o("li",{onClick:I},[R(a(g(e)("menu.grimoire.animations"))+" ",1),o("em",null,[w(q,{icon:["fas",n.value.isStatic?"check-square":"square"]},null,8,["icon"])])]),o("li",{onClick:ae},[R(a(g(e)("menu.grimoire.mute"))+" ",1),o("em",null,[w(q,{icon:["fas",n.value.isMuted?"volume-mute":"volume-up"]},null,8,["icon"])])])],64)):v("",!0),_.value==="session"?(l(),r(H,{key:1},[i.value.sessionId?(l(),r("li",_i,a(i.value.isSpectator?g(e)("menu.session.title.player"):g(e)("menu.session.title.host")),1)):(l(),r("li",vi,a(g(e)("menu.session.title.create")),1)),i.value.sessionId?(l(),r(H,{key:3},[i.value.ping?(l(),r("li",fi,[R(a(g(e)("menu.session.delay"))+" "+a(i.value.isSpectator?g(e)("menu.session.host"):g(e)("menu.session.players"))+" ",1),o("em",null,a(i.value.ping)+"ms",1)])):v("",!0),o("li",{onClick:O},[R(a(g(e)("menu.session.link"))+" ",1),o("em",null,[w(q,{icon:"copy",class:"fa fa-copy"})])]),i.value.isSpectator?v("",!0):(l(),r("li",{key:1,onClick:u},[R(a(g(e)("menu.session.sendRoles"))+" ",1),o("em",null,[w(q,{icon:"theater-masks",class:"fa fa-theater-masks"})])])),i.value.voteHistory.length||!i.value.isSpectator?(l(),r("li",{key:2,onClick:x[8]||(x[8]=F=>h("voteHistory"))},[R(a(g(e)("menu.session.voteHistory")),1),x[20]||(x[20]=o("em",null,"[V]",-1))])):v("",!0),o("li",{onClick:S},[R(a(g(e)("menu.session.leave"))+" ",1),o("em",null,a(i.value.sessionId),1)])],64)):(l(),r(H,{key:2},[o("li",{onClick:$},[R(a(g(e)("menu.session.storyteller")),1),x[18]||(x[18]=o("em",null,"[H]",-1))]),o("li",{onClick:b},[R(a(g(e)("menu.session.player")),1),x[19]||(x[19]=o("em",null,"[J]",-1))])],64))],64)):v("",!0),_.value==="players"&&!i.value.isSpectator?(l(),r(H,{key:2},[o("li",hi,a(g(e)("menu.players.title")),1),f.value.length<20?(l(),r("li",{key:0,onClick:y},[R(a(g(e)("menu.players.add")),1),x[21]||(x[21]=o("em",null,"[A]",-1))])):v("",!0),f.value.length>2?(l(),r("li",{key:1,onClick:E},[R(a(g(e)("menu.players.randomize"))+" ",1),o("em",null,[w(q,{icon:"dice",class:"fa fa-dice"})])])):v("",!0),f.value.length?(l(),r("li",{key:2,onClick:V},[R(a(g(e)("menu.players.removeAll"))+" ",1),o("em",null,[w(q,{icon:"trash-alt",class:"fa fa-trash-alt"})])])):v("",!0)],64)):v("",!0),_.value==="characters"?(l(),r(H,{key:3},[o("li",yi,a(g(e)("menu.characters.title")),1),i.value.isSpectator?v("",!0):(l(),r("li",{key:0,onClick:x[9]||(x[9]=F=>h("edition"))},[R(a(g(e)("menu.characters.selectEdition"))+" ",1),x[22]||(x[22]=o("em",null,"[E]",-1))])),!i.value.isSpectator&&f.value.length>4?(l(),r("li",{key:1,onClick:x[10]||(x[10]=F=>h("roles"))},[R(a(g(e)("menu.characters.assign"))+" ",1),x[23]||(x[23]=o("em",null,"[C]",-1))])):v("",!0),i.value.isSpectator?v("",!0):(l(),r("li",{key:2,onClick:x[11]||(x[11]=F=>h("fabled"))},[R(a(g(e)("menu.characters.addFabled"))+" ",1),o("em",null,[w(q,{icon:"dragon",class:"fa fa-dragon"})])])),f.value.length?(l(),r("li",{key:3,onClick:N},[R(a(g(e)("menu.characters.removeAll"))+" ",1),o("em",null,[w(q,{icon:"trash-alt",class:"fa fa-trash-alt"})])])):v("",!0)],64)):v("",!0),_.value==="help"?(l(),r(H,{key:4},[o("li",bi,a(g(e)("menu.help.title")),1),o("li",{onClick:x[12]||(x[12]=F=>h("reference"))},[R(a(g(e)("menu.help.reference"))+" ",1),x[24]||(x[24]=o("em",null,"[R]",-1))]),o("li",{onClick:x[13]||(x[13]=F=>h("nightOrder"))},[R(a(g(e)("menu.help.nightOrder"))+" ",1),x[25]||(x[25]=o("em",null,"[N]",-1))]),o("li",{onClick:x[14]||(x[14]=F=>h("gameState"))},[R(a(g(e)("menu.help.gameState"))+" ",1),o("em",null,[w(q,{icon:"file-code",class:"fa fa-file-code"})])]),o("li",null,[o("a",ki,a(g(e)("menu.help.discord")),1),o("em",null,[o("a",wi,[w(q,{icon:["fab","discord"]})])])]),o("li",null,[o("a",Si,a(g(e)("menu.help.source")),1),o("em",null,[o("a",Ci,[w(q,{icon:["fab","github"]})])])])],64)):v("",!0)])],2)])}}}),Ii=ne($i,[["__scopeId","data-v-96b0c7b0"]]),vo="/balloonist.D8KLvtlT.png",fo="/bmr.COkFVmt0.png",ho="/catfishing.CdDAamcb.png",yo="/clockmaker.D9un0Nep.png",bo="/custom.CTEroFHN.png",ko="/doomsayer.CZyt00Rc.png",wo="/godfather.LD5ypfO1.png",So="/hide_seek.CUAaYbjH.png",Co="/leviathan.C_Eg-rxI.png",$o="/luf.DbSCqZjk.png",Io="/midnight_oasis.D-LsWZS9.png",Mo="/poppyganda.-qGPDISB.png",Oo="/pukka.Dx7Kv-0k.png",No="/reptiles.kMhlmozZ.png",Vo="/rochambeau.Bma4_oZP.png",Ro="/snv.7vqMnVqf.png",xo="/spooky_tea.CE9-9JPX.png",Po="/spooky_tea_2.IYeqFuLT.png",To="/tb.Rs4Wk7Xn.png",jo="/the-horrifying-spectacle.DnM0z46K.png",fe="/acrobat.BXNklWjQ.png",he="/alchemist.Cmca9VrD.png",ye="/alhadikhia.BiKFG16e.png",be="/alsaahir.C5r2-fMD.png",ke="/amnesiac.CyL8JYcB.png",we="/angel.Ccl_iQkM.png",Se="/apprentice.bvNCJmxm.png",Ce="/artist.86upsVZQ.png",$e="/assassin.DcCmRXaN.png",Ie="/atheist.D-TIEaLR.png",Me="/balloonist.CtpMLD-n.png",Oe="/banshee.CcJ2fAzZ.png",Ne="/barber.Dy8o0QJx.png",Ve="/barista.DG4tqUWD.png",Re="/baron.DV3lPbIb.png",xe="/beggar.gZXn_6NE.png",Pe="/bishop.B6H24wW5.png",Te="/boffin.NkmqhFyL.png",je="/bonecollector.D0pF3UTW.png",De="/boomdandy.0jOS57HG.png",Ee="/bootlegger.C0Nvs0Sq.png",ze="/bountyhunter.DXoD67oq.png",Be="/buddhist.CLkDoOsI.png",Ae="/bureaucrat.Bkbys95C.png",He="/butcher.B0QLgpnV.png",qe="/butler.C-yqetrd.png",Le="/cacklejack.I4hyYB1F.png",Fe="/cannibal.BQ5JHmV2.png",Je="/cerenovus.C95PURJ8.png",Ue="/chambermaid.D3eFg3G2.png",Ge="/chef.F_eB2cfv.png",We="/choirboy.DJa_pOEw.png",Ze="/clockmaker.DvPk7O6i.png",Ke="/courtier.C4Qngkft.png",Qe="/cultleader.DN18U7I-.png",Xe="/custom.PVPwJ8R9.png",Ye="/damsel.DiNGwFR1.png",es="/dawn.BmSELcsO.png",ss="/demon.HlxmNRnb.png",ts="/deusexfiasco.Ha6U8ab3.png",ns="/deviant.BbLlh4AA.png",os="/devilsadvocate.E7zD2A8d.png",is="/djinn.JlLkV9bG.png",as="/doomsayer.FQitKu0b.png",ls="/dreamer.Db_yKfGe.png",rs="/drunk.D-ZiB0cD.png",cs="/duchess.ibb6Dbyr.png",gs="/dusk.GZGnFHnd.png",ps="/empath.CERg4oS7.png",us="/engineer.C804iOAj.png",ms="/evil.9uvAxaOj.png",ds="/eviltwin.CbqyPNSs.png",_s="/exorcist.1U0ilFk8.png",vs="/fabled.gjaIu6x5.png",fs="/fanggu.CjUqOptf.png",hs="/farmer.BCuJ2vUU.png",ys="/fearmonger.RD3tJmYW.png",bs="/ferryman.Bf_ezU_9.png",ks="/fibbin.CoN2fCZ0.png",ws="/fiddler.BMdTADQO.png",Ss="/fisherman.w7nRrzoF.png",Cs="/flowergirl.Blg540NS.png",$s="/fool.CfwDu2Dd.png",Is="/fortuneteller.D3P2_nuA.png",Ms="/gambler.CZdpd4AN.png",Os="/gangster.D54MRuZ-.png",Ns="/gardener.Bv4KER0g.png",Vs="/general.D3vaKkE9.png",Rs="/gnome.V4hCI-l5.png",xs="/goblin.cl1vCWWQ.png",Ps="/godfather.CV8_Wkyy.png",Ts="/golem.CAeV3U17.png",js="/good.Cj3mSDWl.png",Ds="/goon.Dm7k_O3V.png",Es="/gossip.BvI7CDzo.png",zs="/grandmother.C8AJJL6C.png",Bs="/gunslinger.Dbu_-fR3.png",As="/harlot.CuBVo3kx.png",Hs="/harpy.DFbJu0_u.png",qs="/hatter.CGqnIsBt.png",Ls="/hellslibrarian.Bh0xMAjA.png",Fs="/heretic.DTWJlLUB.png",Js="/hermit.BGxc8Pzt.png",Us="/highpriestess.BDucW4iw.png",Gs="/huntsman.hIwxNaje.png",Ws="/imp.CAoRPV-N.png",Zs="/innkeeper.Bm3UyjHG.png",Ks="/investigator.Dbe69ztv.png",Qs="/judge.9C4XsNwO.png",Xs="/juggler.BUlm-_2V.png",Ys="/kazali.BRryKXpZ.png",et="/king.DWpuBOh6.png",st="/klutz.DZbDRrt9.png",tt="/knight.KVRfAanR.png",nt="/legion.ucNd_QCD.png",ot="/leviathan._UVF9TlS.png",it="/librarian.D1e6-7xt.png",at="/lilmonsta.b_qTPgiX.png",lt="/lleech.BrhFCiGt.png",rt="/lordoftyphon.C9Nl2TSX.png",ct="/lunatic.CfMNfeEv.png",gt="/lycanthrope.CSHsotMo.png",pt="/magician.CAMnshal.png",ut="/marionette.Cgrpx2o6.png",mt="/mastermind.Cvr1dCI9.png",dt="/mathematician.CRH81C5R.png",_t="/matron.CuSoTmUQ.png",vt="/mayor.Yd7OjZAF.png",ft="/mephit.Vr0hLMdY.png",ht="/mephit.Vr0hLMdY.png",yt="/minion.Dk4OnZdl.png",bt="/minstrel.CDnypiE-.png",kt="/monk.DjjNW8Kk.png",wt="/moonchild.Wxq4OccM.png",St="/mutant.Q_xIQlGy.png",Ct="/nightwatchman.KmsT1ZqY.png",$t="/noble.DE_Z6P3h.png",It="/nodashii.SwT6bcel.png",Mt="/ogre.D29Hs8TI.png",Ot="/ojo.C1VvkpMY.png",Nt="/oracle.DB_OsdLI.png",Vt="/organgrinder.KGTY-xz_.png",Rt="/outsider.OSMgR7XB.png",xt="/pacifist.DCY-Tdg_.png",Pt="/philosopher.BeAPQ1lW.png",Tt="/pithag.LsLSLs0B.png",jt="/pixie.DSh28L9z.png",Dt="/plaguedoctor.BpnLuAfW.png",Et="/plus.B--bZ7wW.png",zt="/po.GAFBk2PN.png",Bt="/poisoner.BS3aqutu.png",At="/politician.CUwUXEPY.png",Ht="/poppygrower.CrbiH0u_.png",qt="/preacher.EvxqTkBP.png",Lt="/princess.Bkgi-EBx.png",Ft="/professor.BvRQjiT5.png",Jt="/psychopath.JAheppuJ.png",Ut="/pukka.VD6ab8EX.png",Gt="/puzzlemaster.iwRngOcS.png",Wt="/ravenkeeper.5OK68O0q.png",Zt="/recluse.Dx1fdbUp.png",Kt="/revolutionary.CSiHQ-3f.png",Qt="/riot.DiBSBzwR.png",Xt="/sage.CeD4dKZy.png",Yt="/sailor.CBph-X7G.png",en="/saint._85_P_cd.png",sn="/savant.C4QSYyI7.png",tn="/scapegoat.CU9ndC0g.png",nn="/scarletwoman.B3gcWorb.png",on="/seamstress.C9XUKDRL.png",an="/sentinel.hj8gaZY3.png",ln="/shabaloth.G0dX15ja.png",rn="/shugenja.BqwjfUoK.png",cn="/slayer.oH6nlFZp.png",gn="/snakecharmer.CbqGPbbu.png",pn="/snitch.BC5_4efZ.png",un="/soldier.DCboEJD1.png",mn="/spiritofivory.C86xhvR4.png",dn="/spy.BtBVED9B.png",_n="/steward.DI_JfzaQ.png",vn="/stormcatcher.DJ-adesl.png",fn="/summoner.EH_oaBaj.png",hn="/sweetheart.BgTtpYRw.png",yn="/tealady.Di6t6DIa.png",bn="/thief.DeS9jDpO.png",kn="/tinker.CZ0kYpz-.png",wn="/towncrier.CWSZ-lHg.png",Sn="/townsfolk.DrceBsHd.png",Cn="/toymaker.LNmWGQgh.png",$n="/traveler.BevQRlbk.png",In="/undertaker.Dpx7UTM0.png",Mn="/vigormortis.D5Ez9X4-.png",On="/villageidiot.CUdfAOxx.png",Nn="/virgin.Dm2DrPgF.png",Vn="/vizier.C6XHeJRm.png",Rn="/vortox.BCkOLBDK.png",xn="/voudon.CXDmqoQG.png",Pn="/washerwoman.BDuargNg.png",Tn="/widow.CiK5SDnx.png",jn="/witch.CPh34HX6.png",Dn="/wizard.Bca035Gv.png",En="/wraith.Bh7bNJju.png",zn="/x.BzEj3D9B.png",Bn="/xaan.i85ohPGG.png",An="/yaggababble.CsqoyzER.png",Hn="/zealot.BQiVWJ9I.png",qn="/zombuul.1OQmDBTp.png",Mi={key:1,class:"leaf-left"},Oi={key:2,class:"leaf-right"},Ni={key:4,class:"leaf-orange"},Vi={viewBox:"0 0 150 150",class:"name"},Ri=["font-size"],xi={"xlink:href":"#curve"},Pi={key:5,class:"ability"},Ti=ee({__name:"Token",props:{role:{default:()=>({})},unchecked:{type:Boolean,default:!1}},emits:["set-role"],setup(c,{emit:s}){const e=c,t=s,n=se(),i=C(()=>(e.role?.reminders||[]).length+(e.role?.remindersGlobal||[]).length),d=C(()=>new URL(Object.assign({"../assets/icons/acrobat.png":fe,"../assets/icons/alchemist.png":he,"../assets/icons/alhadikhia.png":ye,"../assets/icons/alsaahir.png":be,"../assets/icons/amnesiac.png":ke,"../assets/icons/angel.png":we,"../assets/icons/apprentice.png":Se,"../assets/icons/artist.png":Ce,"../assets/icons/assassin.png":$e,"../assets/icons/atheist.png":Ie,"../assets/icons/balloonist.png":Me,"../assets/icons/banshee.png":Oe,"../assets/icons/barber.png":Ne,"../assets/icons/barista.png":Ve,"../assets/icons/baron.png":Re,"../assets/icons/beggar.png":xe,"../assets/icons/bishop.png":Pe,"../assets/icons/boffin.png":Te,"../assets/icons/bonecollector.png":je,"../assets/icons/boomdandy.png":De,"../assets/icons/bootlegger.png":Ee,"../assets/icons/bountyhunter.png":ze,"../assets/icons/buddhist.png":Be,"../assets/icons/bureaucrat.png":Ae,"../assets/icons/butcher.png":He,"../assets/icons/butler.png":qe,"../assets/icons/cacklejack.png":Le,"../assets/icons/cannibal.png":Fe,"../assets/icons/cerenovus.png":Je,"../assets/icons/chambermaid.png":Ue,"../assets/icons/chef.png":Ge,"../assets/icons/choirboy.png":We,"../assets/icons/clockmaker.png":Ze,"../assets/icons/courtier.png":Ke,"../assets/icons/cultleader.png":Qe,"../assets/icons/custom.png":Xe,"../assets/icons/damsel.png":Ye,"../assets/icons/dawn.png":es,"../assets/icons/demon.png":ss,"../assets/icons/deusexfiasco.png":ts,"../assets/icons/deviant.png":ns,"../assets/icons/devilsadvocate.png":os,"../assets/icons/djinn.png":is,"../assets/icons/doomsayer.png":as,"../assets/icons/dreamer.png":ls,"../assets/icons/drunk.png":rs,"../assets/icons/duchess.png":cs,"../assets/icons/dusk.png":gs,"../assets/icons/empath.png":ps,"../assets/icons/engineer.png":us,"../assets/icons/evil.png":ms,"../assets/icons/eviltwin.png":ds,"../assets/icons/exorcist.png":_s,"../assets/icons/fabled.png":vs,"../assets/icons/fanggu.png":fs,"../assets/icons/farmer.png":hs,"../assets/icons/fearmonger.png":ys,"../assets/icons/ferryman.png":bs,"../assets/icons/fibbin.png":ks,"../assets/icons/fiddler.png":ws,"../assets/icons/fisherman.png":Ss,"../assets/icons/flowergirl.png":Cs,"../assets/icons/fool.png":$s,"../assets/icons/fortuneteller.png":Is,"../assets/icons/gambler.png":Ms,"../assets/icons/gangster.png":Os,"../assets/icons/gardener.png":Ns,"../assets/icons/general.png":Vs,"../assets/icons/gnome.png":Rs,"../assets/icons/goblin.png":xs,"../assets/icons/godfather.png":Ps,"../assets/icons/golem.png":Ts,"../assets/icons/good.png":js,"../assets/icons/goon.png":Ds,"../assets/icons/gossip.png":Es,"../assets/icons/grandmother.png":zs,"../assets/icons/gunslinger.png":Bs,"../assets/icons/harlot.png":As,"../assets/icons/harpy.png":Hs,"../assets/icons/hatter.png":qs,"../assets/icons/hellslibrarian.png":Ls,"../assets/icons/heretic.png":Fs,"../assets/icons/hermit.png":Js,"../assets/icons/highpriestess.png":Us,"../assets/icons/huntsman.png":Gs,"../assets/icons/imp.png":Ws,"../assets/icons/innkeeper.png":Zs,"../assets/icons/investigator.png":Ks,"../assets/icons/judge.png":Qs,"../assets/icons/juggler.png":Xs,"../assets/icons/kazali.png":Ys,"../assets/icons/king.png":et,"../assets/icons/klutz.png":st,"../assets/icons/knight.png":tt,"../assets/icons/legion.png":nt,"../assets/icons/leviathan.png":ot,"../assets/icons/librarian.png":it,"../assets/icons/lilmonsta.png":at,"../assets/icons/lleech.png":lt,"../assets/icons/lordoftyphon.png":rt,"../assets/icons/lunatic.png":ct,"../assets/icons/lycanthrope.png":gt,"../assets/icons/magician.png":pt,"../assets/icons/marionette.png":ut,"../assets/icons/mastermind.png":mt,"../assets/icons/mathematician.png":dt,"../assets/icons/matron.png":_t,"../assets/icons/mayor.png":vt,"../assets/icons/mephit.png":ft,"../assets/icons/mezepheles.png":ht,"../assets/icons/minion.png":yt,"../assets/icons/minstrel.png":bt,"../assets/icons/monk.png":kt,"../assets/icons/moonchild.png":wt,"../assets/icons/mutant.png":St,"../assets/icons/nightwatchman.png":Ct,"../assets/icons/noble.png":$t,"../assets/icons/nodashii.png":It,"../assets/icons/ogre.png":Mt,"../assets/icons/ojo.png":Ot,"../assets/icons/oracle.png":Nt,"../assets/icons/organgrinder.png":Vt,"../assets/icons/outsider.png":Rt,"../assets/icons/pacifist.png":xt,"../assets/icons/philosopher.png":Pt,"../assets/icons/pithag.png":Tt,"../assets/icons/pixie.png":jt,"../assets/icons/plaguedoctor.png":Dt,"../assets/icons/plus.png":Et,"../assets/icons/po.png":zt,"../assets/icons/poisoner.png":Bt,"../assets/icons/politician.png":At,"../assets/icons/poppygrower.png":Ht,"../assets/icons/preacher.png":qt,"../assets/icons/princess.png":Lt,"../assets/icons/professor.png":Ft,"../assets/icons/psychopath.png":Jt,"../assets/icons/pukka.png":Ut,"../assets/icons/puzzlemaster.png":Gt,"../assets/icons/ravenkeeper.png":Wt,"../assets/icons/recluse.png":Zt,"../assets/icons/revolutionary.png":Kt,"../assets/icons/riot.png":Qt,"../assets/icons/sage.png":Xt,"../assets/icons/sailor.png":Yt,"../assets/icons/saint.png":en,"../assets/icons/savant.png":sn,"../assets/icons/scapegoat.png":tn,"../assets/icons/scarletwoman.png":nn,"../assets/icons/seamstress.png":on,"../assets/icons/sentinel.png":an,"../assets/icons/shabaloth.png":ln,"../assets/icons/shugenja.png":rn,"../assets/icons/slayer.png":cn,"../assets/icons/snakecharmer.png":gn,"../assets/icons/snitch.png":pn,"../assets/icons/soldier.png":un,"../assets/icons/spiritofivory.png":mn,"../assets/icons/spy.png":dn,"../assets/icons/steward.png":_n,"../assets/icons/stormcatcher.png":vn,"../assets/icons/summoner.png":fn,"../assets/icons/sweetheart.png":hn,"../assets/icons/tealady.png":yn,"../assets/icons/thief.png":bn,"../assets/icons/tinker.png":kn,"../assets/icons/towncrier.png":wn,"../assets/icons/townsfolk.png":Sn,"../assets/icons/toymaker.png":Cn,"../assets/icons/traveler.png":$n,"../assets/icons/undertaker.png":In,"../assets/icons/vigormortis.png":Mn,"../assets/icons/villageidiot.png":On,"../assets/icons/virgin.png":Nn,"../assets/icons/vizier.png":Vn,"../assets/icons/vortox.png":Rn,"../assets/icons/voudon.png":xn,"../assets/icons/washerwoman.png":Pn,"../assets/icons/widow.png":Tn,"../assets/icons/witch.png":jn,"../assets/icons/wizard.png":Dn,"../assets/icons/wraith.png":En,"../assets/icons/x.png":zn,"../assets/icons/xaan.png":Bn,"../assets/icons/yaggababble.png":An,"../assets/icons/zealot.png":Hn,"../assets/icons/zombuul.png":qn})[`../assets/icons/${e.role.imageAlt||e.role.id}.png`],import.meta.url).href),f=C(()=>e.role?.name?.length&&e.role.name.length>10?"90%":"110%"),_=C(()=>n.state.grimoire);function k(){t("set-role",e.role)}return($,O)=>(l(),r("div",{class:B(["token",[$.role.id,{unchecked:$.unchecked}]]),onClick:k},[$.role.id?(l(),r("span",{key:0,class:"icon",style:te({backgroundImage:`url(${$.role.image&&_.value.isImageOptIn?$.role.image:d.value})`})},null,4)):v("",!0),$.role.firstNight||$.role.firstNightReminder?(l(),r("span",Mi)):v("",!0),$.role.otherNight||$.role.otherNightReminder?(l(),r("span",Oi)):v("",!0),i.value?(l(),r("span",{key:3,class:B(["leaf-top"+i.value])},null,2)):v("",!0),$.role.setup?(l(),r("span",Ni)):v("",!0),(l(),r("svg",Vi,[O[0]||(O[0]=o("path",{id:"curve",d:"M 13 75 C 13 160, 138 160, 138 75",fill:"transparent"},null,-1)),o("text",{width:"150",x:"66.6%","text-anchor":"middle",class:"label mozilla","font-size":f.value},[o("textPath",xi,a($.role?.name||""),1)],8,Ri)])),o("div",{class:B(["edition",[`edition-${$.role.edition}`,$.role.team]])},null,2),$.role.ability?(l(),r("div",Pi,a($.role.ability),1)):v("",!0)],2))}}),_e=ne(Ti,[["__scopeId","data-v-05a7cfd1"]]),ji={class:"top-right-buttons"},Di={class:"slot"},de=ee({__name:"Modal",emits:["close"],setup(c,{emit:s}){const e=K(!1),t=s,n=()=>{t("close")};return(i,d)=>{const f=ge("font-awesome-icon");return l(),G(_o,{name:"modal-fade"},{default:pe(()=>[o("div",{class:"modal-backdrop",onClick:n},[o("div",{class:B(["modal",{maximized:e.value}]),role:"dialog","aria-labelledby":"modalTitle","aria-describedby":"modalDescription",onClick:d[1]||(d[1]=ce(()=>{},["stop"]))},[o("div",ji,[w(f,{class:"top-right-button",icon:["fas",e.value?"window-minimize":"window-maximize"],onClick:d[0]||(d[0]=_=>e.value=!e.value)},null,8,["icon"]),w(f,{icon:"times-circle",class:"top-right-button fa-times-circle",onClick:n})]),o("div",Di,[Jo(i.$slots,"default")])],2)])]),_:3})}}}),Ei={key:0,class:"editions"},zi=["onClick"],Bi={class:"scripts"},Ai=["onClick"],Hi={class:"scripts"},qi=["onClick"],Li={class:"custom"},Fi={href:"https://script.bloodontheclocktower.com/",target:"_blank"},Ji={href:"https://github.com/bra1n/townsquare#custom-characters",target:"_blank"},Ui={class:"button-group"},Gi={class:"aside"},Wi=["onClick"],Zi={class:"button-group"},Ki=ee({__name:"EditionModal",setup(c){const{t:s}=ie(),e=se(),t=K("official"),n=C(()=>e.getters.rolesJSONbyId||new Map),i=K([]),d=["townsfolk","outsider","minion","demon"],f={townsfolk:13,outsider:4,minion:4,demon:4},_=C(()=>e.state.modals),k=C(()=>e.state.editions),$=C(()=>e.state.roles),O=C(()=>e.state.jinxes);function u(){i.value=Array.from(n.value.values()),S();for(let[T]of $.value)m(T)}function m(T){const I=i.value.find(M=>M.id===T);I&&(I.selected=!I.selected)}function p(T){return i.value?.filter(I=>I.team===T&&!I.outOfDate)??[]}function b(T){return i.value?.filter(I=>I.team===T&&I.selected).length}function S(){for(let T of i.value)T.selected=!1}function y(){S();for(let T of d){let I=p(T);for(let M=0;M<(f[T]||0);M++)if(I.length>0){let h=I.splice(Math.floor(Math.random()*I.length),1)[0];h&&(h.selected=!0)}}}function E(){const T=i.value.filter(I=>I.selected);le(T)}function V(){document.querySelector("input[type='file']")?.click()}function N(T){const I=T.target,M=I.files?.[0];if(!M?.size)return;const h=new FileReader;h.addEventListener("load",()=>{try{const z=h.result,x=JSON.parse(z);le(x)}catch(z){alert(`Error reading custom script: ${z.message}`)}I.value=""}),h.readAsText(M)}function D(){const T=prompt(s("prompt.customUrl"));T&&J(T)}function L(T){return new URL(Object.assign({"../../assets/logos/balloonist.png":vo,"../../assets/logos/bmr.png":fo,"../../assets/logos/catfishing.png":ho,"../../assets/logos/clockmaker.png":yo,"../../assets/logos/custom.png":bo,"../../assets/logos/doomsayer.png":ko,"../../assets/logos/godfather.png":wo,"../../assets/logos/hide_seek.png":So,"../../assets/logos/leviathan.png":Co,"../../assets/logos/luf.png":$o,"../../assets/logos/midnight_oasis.png":Io,"../../assets/logos/poppyganda.png":Mo,"../../assets/logos/pukka.png":Oo,"../../assets/logos/reptiles.png":No,"../../assets/logos/rochambeau.png":Vo,"../../assets/logos/snv.png":Ro,"../../assets/logos/spooky_tea.png":xo,"../../assets/logos/spooky_tea_2.png":Po,"../../assets/logos/tb.png":To,"../../assets/logos/the-horrifying-spectacle.png":jo})[`../../assets/logos/${T.logo}.png`],import.meta.url).href}async function W(T){await J(`/scripts/${T}`)}async function J(T){const I=await fetch(T);if(I?.json)try{const M=await I.json();le(M)}catch(M){const h=M;alert(`${s("prompt.customError")}: ${h.message}`)}}async function oe(){const T=await navigator.clipboard.readText();try{const I=JSON.parse(T);le(I)}catch(I){alert(`Error reading custom script: ${I.message}`)}}function le(T){if(!T||!T.length)return;const I=T.map(Z=>typeof Z=="string"?{id:Z}:Z),M=I.findIndex(({id:Z})=>Z==="_meta"),h=M>-1?I.splice(M,1).pop()||{}:{};e.commit("setCustomRoles",I),e.commit("setEdition",{...h,id:"custom"});const z=[];let x=!1,q=!1,F=!1,Ln=!1;I.forEach(Z=>{e.state.fabled.has(Z.id||Z)?(z.push(e.state.fabled.get(Z.id||Z)),(Z.id||Z)=="djinn"?x=!0:(Z.id||Z)=="bootlegger"&&(F=!0)):Z.edition=="custom"||Z.image?Ln=!0:!x&&!q&&O.value.get(Z.id)&&O.value.get(Z.id).forEach((Wn,Fn)=>{$.value.get(Fn)&&(q=!0)})}),q&&!x&&z.push(e.state.fabled.get("djinn")),Ln&&!F&&z.push(e.state.fabled.get("bootlegger")),e.commit("players/setFabled",{fabled:z})}function ue(T){e.commit("setEdition",T),e.commit("players/setFabled",{fabled:[]})}function ae(T){e.commit("toggleModal",T)}return(T,I)=>{const M=ge("font-awesome-icon");return _.value.edition?(l(),G(de,{key:0,class:"editions",onClose:I[4]||(I[4]=h=>ae("edition"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.edition.title")),1),o("ul",null,[o("li",{class:B(["tabs",t.value])},[o("span",{class:B(["tab",{active:t.value=="official"}]),icon:"book-open",onClick:I[0]||(I[0]=h=>t.value="official")},a(g(s)("modal.edition.tab.official")),3),o("span",{class:B(["tab",{active:t.value=="popular"}]),icon:"tower-broadcast",onClick:I[1]||(I[1]=h=>t.value="popular")},a(g(s)("modal.edition.tab.popular")),3),o("span",{class:B(["tab",{active:t.value=="custom"}]),icon:"question",onClick:I[2]||(I[2]=h=>t.value="custom")},a(g(s)("modal.edition.tab.custom")),3),o("span",{class:B(["tab",{active:t.value=="build"}]),icon:"question",onClick:I[3]||(I[3]=h=>{u(),t.value="build"})},a(g(s)("modal.edition.tab.build")),3)],2),t.value=="official"?(l(),r("ul",Ei,[(l(!0),r(H,null,Q(k.value.official,h=>(l(),r("li",{key:h.id,class:B(["edition",["edition-"+h.id]]),style:te({backgroundImage:`url(${L(h)})`}),onClick:z=>ue(h)},a(h.name),15,zi))),128))])):v("",!0),t.value=="popular"?(l(),r(H,{key:1},[o("ul",Bi,[(l(!0),r(H,null,Q(k.value.popular,(h,z)=>(l(),r("li",{key:z,onClick:x=>W(h[1])},a(h[0]),9,Ai))),128))]),o("h3",null,a(g(s)("modal.edition.tab.teensyville")),1),o("ul",Hi,[(l(!0),r(H,null,Q(k.value.teensyville,(h,z)=>(l(),r("li",{key:z,onClick:x=>W(h[1])},a(h[0]),9,qi))),128))])],64)):v("",!0),t.value=="custom"?(l(),r(H,{key:2},[o("div",Li,[R(a(g(s)("modal.edition.custom.introStart"))+" ",1),o("a",Fi,a(g(s)("modal.edition.custom.scriptTool")),1),R(" "+a(g(s)("modal.edition.custom.introEnd"))+".",1),I[5]||(I[5]=o("br",null,null,-1)),I[6]||(I[6]=o("br",null,null,-1)),R(" "+a(g(s)("modal.edition.custom.instructionsStart"))+" ",1),o("a",Ji,a(g(s)("modal.edition.custom.documentation"))+"n",1),R(" "+a(g(s)("modal.edition.custom.instructionsEnd")),1),I[7]||(I[7]=o("br",null,null,-1)),o("b",null,a(g(s)("modal.edition.custom.warning")),1),o("input",{ref:"upload",type:"file",accept:"application/json",onChange:N},null,544)]),o("div",Ui,[o("div",{class:"button",onClick:V},[w(M,{icon:"file-upload"}),R(" "+a(g(s)("modal.edition.custom.upload")),1)]),o("div",{class:"button",onClick:D},[w(M,{icon:"link"}),R(" "+a(g(s)("modal.edition.custom.url")),1)]),o("div",{class:"button",onClick:oe},[w(M,{icon:"clipboard"}),R(" "+a(g(s)("modal.edition.custom.clipboard")),1)])])],64)):v("",!0),t.value=="build"?(l(),r(H,{key:3},[(l(),r(H,null,Q(d,h=>o("section",{key:h,class:B(["build team",h])},[o("aside",Gi,[o("div",null,[o("h4",null,a(g(s)("modal.reference.teamNames[team]")),1),o("strong",null,a(b(h)),1)])]),o("ul",{class:B(["roles",h])},[(l(!0),r(H,null,Q(p(h),z=>(l(),r("li",{key:z.id,class:"role",onClick:x=>m(z.id)},[w(_e,{role:z,unchecked:!z.selected},null,8,["role","unchecked"])],8,Wi))),128))],2)],2)),64)),o("div",Zi,[o("div",{class:"button",onClick:S},[w(M,{icon:["fas","trash-alt"]})]),o("div",{class:"button",onClick:u},[w(M,{icon:["fas","redo-alt"]})]),o("div",{class:"button",onClick:y},[w(M,{icon:["fas","random"]})]),o("div",{class:"button",onClick:E},[w(M,{icon:["fas","play"]})])])],64)):v("",!0)])]),_:1})):v("",!0)}}}),Qi=ne(Ki,[["__scopeId","data-v-78073962"]]),Xi={class:"tokens"},Yi=["onClick"],ea=ee({__name:"FabledModal",setup(c){const{t:s}=ie(),e=se(),t=C(()=>e.state.modals),n=C(()=>Array.from(e.state.fabled.values()).filter(f=>!e.state.players.fabled.some(_=>_.id===f.id)));function i(f){e.commit("players/setFabled",{fabled:f}),e.commit("toggleModal","fabled")}function d(f){e.commit("toggleModal",f)}return(f,_)=>t.value.fabled&&n.value.length?(l(),G(de,{key:0,onClose:_[0]||(_[0]=k=>d("fabled"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.fabled.title")),1),o("ul",Xi,[(l(!0),r(H,null,Q(n.value,k=>(l(),r("li",{key:k.id,onClick:$=>i(k)},[w(_e,{role:k},null,8,["role"])],8,Yi))),128))])]),_:1})):v("",!0)}}),sa=ne(ea,[["__scopeId","data-v-9374b0d9"]]),ta=["value"],na={class:"button-group"},oa=ee({__name:"GameStateModal",setup(c){const{t:s}=ie(),e=se(),t=K(""),n=C(()=>e.state.modals),i=C(()=>e.state.players),d=C(()=>e.state.edition),f=C(()=>e.state.session),_=C(()=>JSON.stringify({bluffs:i.value.bluffs.map(({id:u})=>u),edition:d.value.isOfficial?{id:d.value.id}:d.value,roles:d.value.isOfficial?"":e.getters.customRolesStripped,fabled:i.value.fabled.map(u=>u.isCustom?u:{id:u.id}),players:i.value.players.map(u=>({...u,role:u.role.id||{}}))})),k=()=>{navigator.clipboard.writeText(t.value||_.value)},$=()=>{if(!f.value.isSpectator)try{const u=JSON.parse(t.value||_.value),{bluffs:m,edition:p,roles:b,fabled:S,players:y}=u;b&&e.commit("setCustomRoles",b),p&&e.commit("setEdition",p),m&&m.length&&m.forEach((E,V)=>{e.commit("players/setBluff",{index:V,role:e.state.roles.get(E)||{}})}),S&&e.commit("players/setFabled",{fabled:S.map(E=>typeof E=="string"?e.state.fabled.get(E)||{}:e.state.fabled.get(E.id)||E)}),y&&e.commit("players/set",y.map(E=>({...E,role:typeof E.role=="string"?e.state.roles.get(E.role)||e.getters.rolesJSONbyId.get(E.role)||{}:E.role||{}}))),O("gameState")}catch(u){alert("Unable to parse JSON: "+u)}},O=u=>{e.commit("toggleModal",u)};return(u,m)=>{const p=ge("font-awesome-icon");return n.value.gameState?(l(),G(de,{key:0,class:"game-state",onClose:m[3]||(m[3]=b=>O("gameState"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.gameState.title")),1),o("textarea",{value:_.value,onInput:m[0]||(m[0]=ce(b=>t.value=b.target.value,["stop"])),onClick:m[1]||(m[1]=b=>b.target.select()),onKeyup:m[2]||(m[2]=ce(()=>{},["stop"]))},null,40,ta),o("div",na,[o("div",{class:"button townsfolk",onClick:k},[w(p,{icon:"copy",class:"fa fa-copy"}),R(" "+a(g(s)("modal.gameState.copy")),1)]),f.value.isSpectator?v("",!0):(l(),r("div",{key:0,class:"button demon",onClick:$},[w(p,{icon:"cog",class:"fa fa-cog"}),R(" "+a(g(s)("modal.gameState.load")),1)]))])]),_:1})):v("",!0)}}}),ia=ne(oa,[["__scopeId","data-v-92c9145e"]]),aa={class:"night"},la={class:"first"},ra={class:"headline"},ca={class:"name"},ga={key:0,class:"player"},pa={key:1,class:"player"},ua={key:1,class:"reminder"},ma={class:"other"},da={class:"headline"},_a={class:"name"},va={key:0,class:"player"},fa={key:1,class:"player"},ha={key:1,class:"reminder"},ya=ee({__name:"NightOrderModal",setup(c){const{t:s}=ie(),e=se(),t=C(()=>{function p(V,N){return N&&V.firstNightEdition?V.firstNightEdition:V.firstNight||0}const b=[{id:"dusk",name:s("modal.nightOrder.dusk"),team:"default",firstNight:2,players:[],firstNightReminder:s("modal.nightOrder.duskDescription1")},{id:"dawn",name:s("modal.nightOrder.dawn"),firstNight:1e3,team:"default",players:[],firstNightReminder:s("modal.nightOrder.dawnDescription1")}];let S=!1;k.value.forEach(V=>{V.firstNight?b.push({players:[],...V}):V.id=="toymaker"&&(S=!0)}),O.value.forEach(V=>{if(V.firstNight&&V.team!=="traveler"){const N={...V,players:_.value.filter(D=>D.role.id===V.id)};b.push(N)}});const y=[];let E=0;return _.value.forEach(V=>{if(V.role.team=="traveler"&&(E++,!y.includes(V.role.id)&&(y.push(V.role.id),V.role.firstNight))){const N=_.value.filter(D=>D.role.id===V.role.id);b.push({players:N,...V.role})}}),(_.value.length-E>6||S)&&b.push({id:"minion",name:s("modal.nightOrder.minionInfo"),firstNight:12,team:"minion",players:_.value.filter(V=>V.role.team==="minion"),firstNightReminder:s("modal.nightOrder.minionInfoDescription")},{id:"demon",name:s("modal.nightOrder.demonInfo"),firstNight:18,team:"demon",players:_.value.filter(V=>V.role.team==="demon"),firstNightReminder:s("modal.nightOrder.demonInfoDescription")}),b.sort((V,N)=>p(V,i.value.isOfficial)-p(N,i.value.isOfficial)),b}),n=C(()=>{function p(y,E){return E&&y.otherNightEdition?y.otherNightEdition:y.otherNight||0}const b=[{id:"dusk",name:s("modal.nightOrder.dusk"),team:"default",otherNight:2,players:[],otherNightReminder:s("modal.nightOrder.duskDescription2")},{id:"dawn",name:s("modal.nightOrder.dawn"),team:"default",otherNight:1e3,players:[],otherNightReminder:s("modal.nightOrder.dawnDescription2")}];k.value.filter(({otherNight:y})=>y).forEach(y=>{b.push({players:[],...y})}),O.value.forEach(y=>{if(y.otherNight&&y.team!=="traveler"){const E={...y,players:_.value.filter(V=>V.role.id===y.id)};b.push(E)}});const S=[];return _.value.forEach(y=>{if(y.role.otherNight&&y.role.team=="traveler"&&!S.includes(y.role.id)){const E=_.value.filter(V=>V.role.id===y.role.id);S.push(y.role.id),b.push({players:E,...y.role})}}),b.sort((y,E)=>p(y,i.value.isOfficial)-p(E,i.value.isOfficial)),b}),i=C(()=>e.state.edition),d=C(()=>e.state.grimoire),f=C(()=>e.state.session),_=C(()=>e.state.players.players),k=C(()=>e.state.players.fabled),$=C(()=>e.state.modals),O=C(()=>e.state.roles),u=p=>new URL(Object.assign({"../../assets/icons/acrobat.png":fe,"../../assets/icons/alchemist.png":he,"../../assets/icons/alhadikhia.png":ye,"../../assets/icons/alsaahir.png":be,"../../assets/icons/amnesiac.png":ke,"../../assets/icons/angel.png":we,"../../assets/icons/apprentice.png":Se,"../../assets/icons/artist.png":Ce,"../../assets/icons/assassin.png":$e,"../../assets/icons/atheist.png":Ie,"../../assets/icons/balloonist.png":Me,"../../assets/icons/banshee.png":Oe,"../../assets/icons/barber.png":Ne,"../../assets/icons/barista.png":Ve,"../../assets/icons/baron.png":Re,"../../assets/icons/beggar.png":xe,"../../assets/icons/bishop.png":Pe,"../../assets/icons/boffin.png":Te,"../../assets/icons/bonecollector.png":je,"../../assets/icons/boomdandy.png":De,"../../assets/icons/bootlegger.png":Ee,"../../assets/icons/bountyhunter.png":ze,"../../assets/icons/buddhist.png":Be,"../../assets/icons/bureaucrat.png":Ae,"../../assets/icons/butcher.png":He,"../../assets/icons/butler.png":qe,"../../assets/icons/cacklejack.png":Le,"../../assets/icons/cannibal.png":Fe,"../../assets/icons/cerenovus.png":Je,"../../assets/icons/chambermaid.png":Ue,"../../assets/icons/chef.png":Ge,"../../assets/icons/choirboy.png":We,"../../assets/icons/clockmaker.png":Ze,"../../assets/icons/courtier.png":Ke,"../../assets/icons/cultleader.png":Qe,"../../assets/icons/custom.png":Xe,"../../assets/icons/damsel.png":Ye,"../../assets/icons/dawn.png":es,"../../assets/icons/demon.png":ss,"../../assets/icons/deusexfiasco.png":ts,"../../assets/icons/deviant.png":ns,"../../assets/icons/devilsadvocate.png":os,"../../assets/icons/djinn.png":is,"../../assets/icons/doomsayer.png":as,"../../assets/icons/dreamer.png":ls,"../../assets/icons/drunk.png":rs,"../../assets/icons/duchess.png":cs,"../../assets/icons/dusk.png":gs,"../../assets/icons/empath.png":ps,"../../assets/icons/engineer.png":us,"../../assets/icons/evil.png":ms,"../../assets/icons/eviltwin.png":ds,"../../assets/icons/exorcist.png":_s,"../../assets/icons/fabled.png":vs,"../../assets/icons/fanggu.png":fs,"../../assets/icons/farmer.png":hs,"../../assets/icons/fearmonger.png":ys,"../../assets/icons/ferryman.png":bs,"../../assets/icons/fibbin.png":ks,"../../assets/icons/fiddler.png":ws,"../../assets/icons/fisherman.png":Ss,"../../assets/icons/flowergirl.png":Cs,"../../assets/icons/fool.png":$s,"../../assets/icons/fortuneteller.png":Is,"../../assets/icons/gambler.png":Ms,"../../assets/icons/gangster.png":Os,"../../assets/icons/gardener.png":Ns,"../../assets/icons/general.png":Vs,"../../assets/icons/gnome.png":Rs,"../../assets/icons/goblin.png":xs,"../../assets/icons/godfather.png":Ps,"../../assets/icons/golem.png":Ts,"../../assets/icons/good.png":js,"../../assets/icons/goon.png":Ds,"../../assets/icons/gossip.png":Es,"../../assets/icons/grandmother.png":zs,"../../assets/icons/gunslinger.png":Bs,"../../assets/icons/harlot.png":As,"../../assets/icons/harpy.png":Hs,"../../assets/icons/hatter.png":qs,"../../assets/icons/hellslibrarian.png":Ls,"../../assets/icons/heretic.png":Fs,"../../assets/icons/hermit.png":Js,"../../assets/icons/highpriestess.png":Us,"../../assets/icons/huntsman.png":Gs,"../../assets/icons/imp.png":Ws,"../../assets/icons/innkeeper.png":Zs,"../../assets/icons/investigator.png":Ks,"../../assets/icons/judge.png":Qs,"../../assets/icons/juggler.png":Xs,"../../assets/icons/kazali.png":Ys,"../../assets/icons/king.png":et,"../../assets/icons/klutz.png":st,"../../assets/icons/knight.png":tt,"../../assets/icons/legion.png":nt,"../../assets/icons/leviathan.png":ot,"../../assets/icons/librarian.png":it,"../../assets/icons/lilmonsta.png":at,"../../assets/icons/lleech.png":lt,"../../assets/icons/lordoftyphon.png":rt,"../../assets/icons/lunatic.png":ct,"../../assets/icons/lycanthrope.png":gt,"../../assets/icons/magician.png":pt,"../../assets/icons/marionette.png":ut,"../../assets/icons/mastermind.png":mt,"../../assets/icons/mathematician.png":dt,"../../assets/icons/matron.png":_t,"../../assets/icons/mayor.png":vt,"../../assets/icons/mephit.png":ft,"../../assets/icons/mezepheles.png":ht,"../../assets/icons/minion.png":yt,"../../assets/icons/minstrel.png":bt,"../../assets/icons/monk.png":kt,"../../assets/icons/moonchild.png":wt,"../../assets/icons/mutant.png":St,"../../assets/icons/nightwatchman.png":Ct,"../../assets/icons/noble.png":$t,"../../assets/icons/nodashii.png":It,"../../assets/icons/ogre.png":Mt,"../../assets/icons/ojo.png":Ot,"../../assets/icons/oracle.png":Nt,"../../assets/icons/organgrinder.png":Vt,"../../assets/icons/outsider.png":Rt,"../../assets/icons/pacifist.png":xt,"../../assets/icons/philosopher.png":Pt,"../../assets/icons/pithag.png":Tt,"../../assets/icons/pixie.png":jt,"../../assets/icons/plaguedoctor.png":Dt,"../../assets/icons/plus.png":Et,"../../assets/icons/po.png":zt,"../../assets/icons/poisoner.png":Bt,"../../assets/icons/politician.png":At,"../../assets/icons/poppygrower.png":Ht,"../../assets/icons/preacher.png":qt,"../../assets/icons/princess.png":Lt,"../../assets/icons/professor.png":Ft,"../../assets/icons/psychopath.png":Jt,"../../assets/icons/pukka.png":Ut,"../../assets/icons/puzzlemaster.png":Gt,"../../assets/icons/ravenkeeper.png":Wt,"../../assets/icons/recluse.png":Zt,"../../assets/icons/revolutionary.png":Kt,"../../assets/icons/riot.png":Qt,"../../assets/icons/sage.png":Xt,"../../assets/icons/sailor.png":Yt,"../../assets/icons/saint.png":en,"../../assets/icons/savant.png":sn,"../../assets/icons/scapegoat.png":tn,"../../assets/icons/scarletwoman.png":nn,"../../assets/icons/seamstress.png":on,"../../assets/icons/sentinel.png":an,"../../assets/icons/shabaloth.png":ln,"../../assets/icons/shugenja.png":rn,"../../assets/icons/slayer.png":cn,"../../assets/icons/snakecharmer.png":gn,"../../assets/icons/snitch.png":pn,"../../assets/icons/soldier.png":un,"../../assets/icons/spiritofivory.png":mn,"../../assets/icons/spy.png":dn,"../../assets/icons/steward.png":_n,"../../assets/icons/stormcatcher.png":vn,"../../assets/icons/summoner.png":fn,"../../assets/icons/sweetheart.png":hn,"../../assets/icons/tealady.png":yn,"../../assets/icons/thief.png":bn,"../../assets/icons/tinker.png":kn,"../../assets/icons/towncrier.png":wn,"../../assets/icons/townsfolk.png":Sn,"../../assets/icons/toymaker.png":Cn,"../../assets/icons/traveler.png":$n,"../../assets/icons/undertaker.png":In,"../../assets/icons/vigormortis.png":Mn,"../../assets/icons/villageidiot.png":On,"../../assets/icons/virgin.png":Nn,"../../assets/icons/vizier.png":Vn,"../../assets/icons/vortox.png":Rn,"../../assets/icons/voudon.png":xn,"../../assets/icons/washerwoman.png":Pn,"../../assets/icons/widow.png":Tn,"../../assets/icons/witch.png":jn,"../../assets/icons/wizard.png":Dn,"../../assets/icons/wraith.png":En,"../../assets/icons/x.png":zn,"../../assets/icons/xaan.png":Bn,"../../assets/icons/yaggababble.png":An,"../../assets/icons/zealot.png":Hn,"../../assets/icons/zombuul.png":qn})[`../../assets/icons/${p.imageAlt||p.id}.png`],import.meta.url).href,m=p=>{e.commit("toggleModal",p)};return(p,b)=>{const S=ge("font-awesome-icon");return $.value.nightOrder&&O.value.size?(l(),G(de,{key:0,class:"night-reference",onClose:b[1]||(b[1]=y=>m("nightOrder"))},{default:pe(()=>[w(S,{icon:"address-card",class:"fa fa-address-card toggle",title:g(s)("modal.nightOrder.reference"),onClick:b[0]||(b[0]=y=>m("reference"))},null,8,["title"]),o("h3",null,[R(a(g(s)("modal.nightOrder.title"))+" ",1),w(S,{icon:"cloud-moon",class:"fa fa-cloud-moon"}),R(" "+a(i.value.name||g(s)("modal.nightOrder.custom")),1)]),o("div",aa,[o("ul",la,[o("li",ra,a(g(s)("modal.nightOrder.firstNight")),1),(l(!0),r(H,null,Q(t.value,y=>(l(),r("li",{key:y.id,class:B([y.team])},[o("span",ca,[R(a(y.name)+" ",1),y.players.length?(l(),r("span",ga,[b[2]||(b[2]=o("br",null,null,-1)),(l(!0),r(H,null,Q(y.players,(E,V)=>(l(),r("small",{key:V,class:B({dead:E.isDead})},a(E.name+(y.players.length>V+1?",":"")),3))),128))])):v("",!0),(y.team=="default"||y.team=="fabled")&&!f.value.isSpectator&&_.value.length&&_.value[0].role.id?(l(),r("span",pa,b[3]||(b[3]=[o("br",null,null,-1),o("small",null,null,-1)]))):v("",!0)]),y.id?(l(),r("span",{key:0,class:"icon",style:te({backgroundImage:`url(${y.image&&d.value.isImageOptIn?y.image:u(y)})`})},null,4)):v("",!0),y.firstNightReminder?(l(),r("span",ua,a(y.firstNightReminder),1)):v("",!0)],2))),128))]),o("ul",ma,[o("li",da,a(g(s)("modal.nightOrder.otherNights")),1),(l(!0),r(H,null,Q(n.value,y=>(l(),r("li",{key:y.id,class:B([y.team])},[y.id?(l(),r("span",{key:0,class:"icon",style:te({backgroundImage:`url(${y.image&&d.value.isImageOptIn?y.image:u(y)})`})},null,4)):v("",!0),o("span",_a,[R(a(y.name)+" ",1),y.players.length?(l(),r("span",va,[b[4]||(b[4]=o("br",null,null,-1)),(l(!0),r(H,null,Q(y.players,(E,V)=>(l(),r("small",{key:V,class:B({dead:E.isDead})},a(E.name+(y.players.length>V+1?",":"")),3))),128))])):v("",!0),(y.team=="default"||y.team=="fabled")&&!f.value.isSpectator&&_.value.length&&_.value[0].role.id?(l(),r("span",fa,b[5]||(b[5]=[o("br",null,null,-1),o("small",null,null,-1)]))):v("",!0)]),y.otherNightReminder?(l(),r("span",ha,a(y.otherNightReminder),1)):v("",!0)],2))),128))])])]),_:1})):v("",!0)}}}),ba=ne(ya,[["__scopeId","data-v-f36dcca9"]]),ka=["aria-label"],wa={class:"role"},Sa={key:0,class:"player"},Ca={class:"name"},$a={class:"ability"},Ia={key:0,class:"team jinxed"},Ma=["aria-label"],Oa={class:"role"},Na={class:"name"},Va={class:"ability"},Ra={class:"asterisk"},xa=ee({__name:"ReferenceModal",setup(c){const{t:s}=ie(),e=se(),t=C(()=>e.state.roles),n=C(()=>e.state.modals),i=C(()=>e.state.edition),d=C(()=>e.state.grimoire),f=C(()=>e.state.jinxes),_=C(()=>e.state.players.players),k=C(()=>{const p=[];return t.value.forEach(b=>{f.value.get(b.id)&&f.value.get(b.id).forEach((S,y)=>{const E=t.value.get(y);E&&p.push({first:b,second:E,reason:S})})}),p}),$=C(()=>{const p={};return t.value.forEach(b=>{p[b.team||"default"]||(p[b.team||"default"]=[]),p[b.team||"default"]?.push(b)}),delete p.traveler,p}),O=C(()=>{const p={};return _.value.forEach(({name:b,role:S})=>{S&&S.id&&S.team!=="traveler"&&(p[S.id]||(p[S.id]=[]),p[S.id]?.push(b))}),p}),u=p=>new URL(Object.assign({"../../assets/icons/acrobat.png":fe,"../../assets/icons/alchemist.png":he,"../../assets/icons/alhadikhia.png":ye,"../../assets/icons/alsaahir.png":be,"../../assets/icons/amnesiac.png":ke,"../../assets/icons/angel.png":we,"../../assets/icons/apprentice.png":Se,"../../assets/icons/artist.png":Ce,"../../assets/icons/assassin.png":$e,"../../assets/icons/atheist.png":Ie,"../../assets/icons/balloonist.png":Me,"../../assets/icons/banshee.png":Oe,"../../assets/icons/barber.png":Ne,"../../assets/icons/barista.png":Ve,"../../assets/icons/baron.png":Re,"../../assets/icons/beggar.png":xe,"../../assets/icons/bishop.png":Pe,"../../assets/icons/boffin.png":Te,"../../assets/icons/bonecollector.png":je,"../../assets/icons/boomdandy.png":De,"../../assets/icons/bootlegger.png":Ee,"../../assets/icons/bountyhunter.png":ze,"../../assets/icons/buddhist.png":Be,"../../assets/icons/bureaucrat.png":Ae,"../../assets/icons/butcher.png":He,"../../assets/icons/butler.png":qe,"../../assets/icons/cacklejack.png":Le,"../../assets/icons/cannibal.png":Fe,"../../assets/icons/cerenovus.png":Je,"../../assets/icons/chambermaid.png":Ue,"../../assets/icons/chef.png":Ge,"../../assets/icons/choirboy.png":We,"../../assets/icons/clockmaker.png":Ze,"../../assets/icons/courtier.png":Ke,"../../assets/icons/cultleader.png":Qe,"../../assets/icons/custom.png":Xe,"../../assets/icons/damsel.png":Ye,"../../assets/icons/dawn.png":es,"../../assets/icons/demon.png":ss,"../../assets/icons/deusexfiasco.png":ts,"../../assets/icons/deviant.png":ns,"../../assets/icons/devilsadvocate.png":os,"../../assets/icons/djinn.png":is,"../../assets/icons/doomsayer.png":as,"../../assets/icons/dreamer.png":ls,"../../assets/icons/drunk.png":rs,"../../assets/icons/duchess.png":cs,"../../assets/icons/dusk.png":gs,"../../assets/icons/empath.png":ps,"../../assets/icons/engineer.png":us,"../../assets/icons/evil.png":ms,"../../assets/icons/eviltwin.png":ds,"../../assets/icons/exorcist.png":_s,"../../assets/icons/fabled.png":vs,"../../assets/icons/fanggu.png":fs,"../../assets/icons/farmer.png":hs,"../../assets/icons/fearmonger.png":ys,"../../assets/icons/ferryman.png":bs,"../../assets/icons/fibbin.png":ks,"../../assets/icons/fiddler.png":ws,"../../assets/icons/fisherman.png":Ss,"../../assets/icons/flowergirl.png":Cs,"../../assets/icons/fool.png":$s,"../../assets/icons/fortuneteller.png":Is,"../../assets/icons/gambler.png":Ms,"../../assets/icons/gangster.png":Os,"../../assets/icons/gardener.png":Ns,"../../assets/icons/general.png":Vs,"../../assets/icons/gnome.png":Rs,"../../assets/icons/goblin.png":xs,"../../assets/icons/godfather.png":Ps,"../../assets/icons/golem.png":Ts,"../../assets/icons/good.png":js,"../../assets/icons/goon.png":Ds,"../../assets/icons/gossip.png":Es,"../../assets/icons/grandmother.png":zs,"../../assets/icons/gunslinger.png":Bs,"../../assets/icons/harlot.png":As,"../../assets/icons/harpy.png":Hs,"../../assets/icons/hatter.png":qs,"../../assets/icons/hellslibrarian.png":Ls,"../../assets/icons/heretic.png":Fs,"../../assets/icons/hermit.png":Js,"../../assets/icons/highpriestess.png":Us,"../../assets/icons/huntsman.png":Gs,"../../assets/icons/imp.png":Ws,"../../assets/icons/innkeeper.png":Zs,"../../assets/icons/investigator.png":Ks,"../../assets/icons/judge.png":Qs,"../../assets/icons/juggler.png":Xs,"../../assets/icons/kazali.png":Ys,"../../assets/icons/king.png":et,"../../assets/icons/klutz.png":st,"../../assets/icons/knight.png":tt,"../../assets/icons/legion.png":nt,"../../assets/icons/leviathan.png":ot,"../../assets/icons/librarian.png":it,"../../assets/icons/lilmonsta.png":at,"../../assets/icons/lleech.png":lt,"../../assets/icons/lordoftyphon.png":rt,"../../assets/icons/lunatic.png":ct,"../../assets/icons/lycanthrope.png":gt,"../../assets/icons/magician.png":pt,"../../assets/icons/marionette.png":ut,"../../assets/icons/mastermind.png":mt,"../../assets/icons/mathematician.png":dt,"../../assets/icons/matron.png":_t,"../../assets/icons/mayor.png":vt,"../../assets/icons/mephit.png":ft,"../../assets/icons/mezepheles.png":ht,"../../assets/icons/minion.png":yt,"../../assets/icons/minstrel.png":bt,"../../assets/icons/monk.png":kt,"../../assets/icons/moonchild.png":wt,"../../assets/icons/mutant.png":St,"../../assets/icons/nightwatchman.png":Ct,"../../assets/icons/noble.png":$t,"../../assets/icons/nodashii.png":It,"../../assets/icons/ogre.png":Mt,"../../assets/icons/ojo.png":Ot,"../../assets/icons/oracle.png":Nt,"../../assets/icons/organgrinder.png":Vt,"../../assets/icons/outsider.png":Rt,"../../assets/icons/pacifist.png":xt,"../../assets/icons/philosopher.png":Pt,"../../assets/icons/pithag.png":Tt,"../../assets/icons/pixie.png":jt,"../../assets/icons/plaguedoctor.png":Dt,"../../assets/icons/plus.png":Et,"../../assets/icons/po.png":zt,"../../assets/icons/poisoner.png":Bt,"../../assets/icons/politician.png":At,"../../assets/icons/poppygrower.png":Ht,"../../assets/icons/preacher.png":qt,"../../assets/icons/princess.png":Lt,"../../assets/icons/professor.png":Ft,"../../assets/icons/psychopath.png":Jt,"../../assets/icons/pukka.png":Ut,"../../assets/icons/puzzlemaster.png":Gt,"../../assets/icons/ravenkeeper.png":Wt,"../../assets/icons/recluse.png":Zt,"../../assets/icons/revolutionary.png":Kt,"../../assets/icons/riot.png":Qt,"../../assets/icons/sage.png":Xt,"../../assets/icons/sailor.png":Yt,"../../assets/icons/saint.png":en,"../../assets/icons/savant.png":sn,"../../assets/icons/scapegoat.png":tn,"../../assets/icons/scarletwoman.png":nn,"../../assets/icons/seamstress.png":on,"../../assets/icons/sentinel.png":an,"../../assets/icons/shabaloth.png":ln,"../../assets/icons/shugenja.png":rn,"../../assets/icons/slayer.png":cn,"../../assets/icons/snakecharmer.png":gn,"../../assets/icons/snitch.png":pn,"../../assets/icons/soldier.png":un,"../../assets/icons/spiritofivory.png":mn,"../../assets/icons/spy.png":dn,"../../assets/icons/steward.png":_n,"../../assets/icons/stormcatcher.png":vn,"../../assets/icons/summoner.png":fn,"../../assets/icons/sweetheart.png":hn,"../../assets/icons/tealady.png":yn,"../../assets/icons/thief.png":bn,"../../assets/icons/tinker.png":kn,"../../assets/icons/towncrier.png":wn,"../../assets/icons/townsfolk.png":Sn,"../../assets/icons/toymaker.png":Cn,"../../assets/icons/traveler.png":$n,"../../assets/icons/undertaker.png":In,"../../assets/icons/vigormortis.png":Mn,"../../assets/icons/villageidiot.png":On,"../../assets/icons/virgin.png":Nn,"../../assets/icons/vizier.png":Vn,"../../assets/icons/vortox.png":Rn,"../../assets/icons/voudon.png":xn,"../../assets/icons/washerwoman.png":Pn,"../../assets/icons/widow.png":Tn,"../../assets/icons/witch.png":jn,"../../assets/icons/wizard.png":Dn,"../../assets/icons/wraith.png":En,"../../assets/icons/x.png":zn,"../../assets/icons/xaan.png":Bn,"../../assets/icons/yaggababble.png":An,"../../assets/icons/zealot.png":Hn,"../../assets/icons/zombuul.png":qn})[`../../assets/icons/${p.imageAlt||p.id}.png`],import.meta.url).href,m=p=>{e.commit("toggleModal",p)};return(p,b)=>{const S=ge("font-awesome-icon");return n.value.reference&&t.value.size?(l(),G(de,{key:0,class:"characters",onClose:b[1]||(b[1]=y=>m("reference"))},{default:pe(()=>[w(S,{icon:"cloud-moon",class:"fa fa-cloud-moon toggle",title:g(s)("modal.reference.nightOrder"),onClick:b[0]||(b[0]=y=>m("nightOrder"))},null,8,["title"]),o("h3",null,[R(a(g(s)("modal.reference.title"))+" ",1),w(S,{icon:"address-card",class:"fa fa-address-card"}),R(" "+a(i.value.name||"Custom Script"),1)]),(l(!0),r(H,null,Q($.value,(y,E)=>(l(),r("div",{key:E,class:B(["team",E])},[o("aside",{"aria-label":g(s)("modal.reference.teamNames[team]")},[o("h4",null,a(g(s)("modal.reference.teamNames[team]")),1)],8,ka),o("ul",null,[(l(!0),r(H,null,Q(y,V=>(l(),r("li",{key:V.id,class:B([E])},[V.id?(l(),r("span",{key:0,class:"icon",style:te({backgroundImage:`url(${V.image&&d.value.isImageOptIn?V.image:u(V)})`})},null,4)):v("",!0),o("div",wa,[Object.keys(O.value).length?(l(),r("span",Sa,a(O.value[V.id]?O.value[V.id]?.join(", "):""),1)):v("",!0),o("span",Ca,a(V.name),1),o("span",$a,a(V.ability),1)])],2))),128)),o("li",{class:B([E])},null,2),o("li",{class:B([E])},null,2)])],2))),128)),k.value.length?(l(),r("div",Ia,[o("aside",{"aria-label":g(s)("modal.reference.jinxed")},[o("h4",null,a(g(s)("modal.reference.jinxed")),1)],8,Ma),o("ul",null,[(l(!0),r(H,null,Q(k.value,(y,E)=>(l(),r("li",{key:E},[o("span",{class:"icon",style:te({backgroundImage:"url("+u(y.first)+")"})},null,4),o("span",{class:"icon",style:te({backgroundImage:"url("+u(y.second)+")"})},null,4),o("div",Oa,[o("span",Na,a(y.first.name)+" & "+a(y.second.name),1),o("span",Va,a(y.reason),1)])]))),128)),b[2]||(b[2]=o("li",null,null,-1)),b[3]||(b[3]=o("li",null,null,-1))])])):v("",!0),o("div",Ra,a(g(s)("modal.reference.notfirstnight")),1)]),_:1})):v("",!0)}}}),Pa=ne(xa,[["__scopeId","data-v-16072e7a"]]),Do=[{townsfolk:3,outsider:0,minion:1,demon:1},{townsfolk:3,outsider:1,minion:1,demon:1},{townsfolk:5,outsider:0,minion:1,demon:1},{townsfolk:5,outsider:1,minion:1,demon:1},{townsfolk:5,outsider:2,minion:1,demon:1},{townsfolk:7,outsider:0,minion:2,demon:1},{townsfolk:7,outsider:1,minion:2,demon:1},{townsfolk:7,outsider:2,minion:2,demon:1},{townsfolk:9,outsider:0,minion:3,demon:1},{townsfolk:9,outsider:1,minion:3,demon:1},{townsfolk:9,outsider:2,minion:3,demon:1}],Ta=["onClick"],ja={key:1,class:"buttons"},Da={class:"tokens"},Ea={key:0,class:"warning"},za={class:"button-group"},Ba=ee({__name:"RolesModal",setup(c){const{t:s}=ie(),e=V=>{if(V.length===0)throw new Error("Cannot select from empty array");return V[Math.floor(Math.random()*V.length)]},t=se(),n=K({}),i=K(Do),d=K(!1),f=C(()=>t.state.roles),_=C(()=>t.state.modals),k=C(()=>t.state.players.players),$=C(()=>t.state.players.fabled),O=C(()=>t.getters["players/nonTravelers"]),u=C(()=>Object.values(n.value).map(V=>V.reduce((N,{selected:D})=>N+D,0)).reduce((V,N)=>V+N,0)),m=C(()=>Object.values(n.value).some(V=>V.some(N=>N.selected&&N.setup))),p=C(()=>{let V=[];for(const N of $.value)N.setup&&V.push(N);return V}),b=V=>V.reduce((N,{selected:D})=>N+D,0),S=()=>{n.value={},f.value.forEach(D=>{const L={...D,selected:0};n.value[D.team||"unknown"]||(n.value[D.team||"unknown"]=[]),n.value[D.team||"unknown"]?.push(L)}),delete n.value.traveler;const V=Math.max(5,O.value),N=i.value[V-5];N&&Object.keys(N).forEach(D=>{const L=D;for(let W=0;W<N[L];W++)if(n.value[D]){const J=n.value[D].filter(oe=>!oe.selected);J.length&&(e(J).selected=1)}})},y=()=>{if(u.value<=O.value&&u.value){const V=Object.values(n.value).map(N=>N.reduce((D,L)=>[...D,...Array(L.selected).fill(L)],[])).reduce((N,D)=>[...N,...D],[]).map(N=>[Math.random(),N]).sort((N,D)=>N[0]-D[0]).map(N=>N[1]);k.value.forEach(N=>{if(N.role.team!=="traveler"&&V.length){const D=V.pop();t.commit("players/update",{player:N,property:"role",value:D})}}),t.commit("toggleModal","roles")}},E=V=>{t.commit("toggleModal",V)};return Uo(()=>{Object.keys(n.value).length||S()}),Go(f,()=>{S()}),(V,N)=>{const D=ge("font-awesome-icon");return _.value.roles&&O.value>=5?(l(),G(de,{key:0,class:"roles",onClose:N[1]||(N[1]=L=>E("roles"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.roles.titleStart")+O.value+g(s)("modal.roles.titleEnd")),1),(l(!0),r(H,null,Q(n.value,(L,W)=>(l(),r("ul",{key:W,class:"tokens"},[o("li",{class:B(["count",[W]])},a(b(L))+" / "+a(i.value[O.value-5]?.[W]),3),(l(!0),r(H,null,Q(L,J=>(l(),r("li",{key:J.id,class:B([J.team,J.selected?"selected":""]),onClick:oe=>J.selected=J.selected?0:1},[w(_e,{role:J},null,8,["role"]),J.setup?(l(),G(D,{key:0,icon:"exclamation-triangle",class:"fa fa-exclamation-triangle"})):v("",!0),d.value||J.multiple?(l(),r("div",ja,[w(D,{icon:"minus-circle",onClick:ce(oe=>J.selected--,["stop"])},null,8,["onClick"]),o("span",null,a(J.selected>1?"x"+J.selected:""),1),w(D,{icon:"plus-circle",class:"fa fa-plus-circle",onClick:ce(oe=>J.selected++,["stop"])},null,8,["onClick"])])):v("",!0)],10,Ta))),128))]))),128)),o("ul",Da,[(l(!0),r(H,null,Q(p.value,L=>(l(),r("li",{key:L.id,class:B(["fabled","selected"])},[w(_e,{role:L},null,8,["role"]),w(D,{icon:"exclamation-triangle",class:"fa fa-exclamation-triangle"})]))),128))]),m.value||p.value.length?(l(),r("div",Ea,[w(D,{icon:"exclamation-triangle",class:"fa fa-exclamation-triangle"}),o("span",null,a(g(s)("modal.roles.warning")),1)])):v("",!0),o("label",{class:B(["multiple",{checked:d.value}])},[w(D,{icon:d.value?"check-square":"square"},null,8,["icon"]),mo(o("input",{"onUpdate:modelValue":N[0]||(N[0]=L=>d.value=L),type:"checkbox",name:"allow-multiple"},null,512),[[Wo,d.value]]),R(" "+a(g(s)("modal.roles.allowMultiple")),1)],2),o("div",za,[o("div",{class:B(["button",{disabled:u.value>O.value||!u.value}]),onClick:y},[w(D,{icon:"people-arrows",class:"fa fa-people-arrows"}),R(" "+a(g(s)("modal.roles.assignStart")+u.value+g(s)("modal.roles.assignEnd")),1)],2),o("div",{class:"button",onClick:S},[w(D,{icon:"random",class:"fa fa-random"}),R(" "+a(g(s)("modal.roles.shuffle")),1)])])]),_:1})):v("",!0)}}}),Aa=ne(Ba,[["__scopeId","data-v-7b23fb05"]]),Ha="/bishop.B6H24wW5.png",qa="/atheist.D-TIEaLR.png",La="/cultleader.DN18U7I-.png",Fa="/custom.PVPwJ8R9.png";function Y(c){return c!==null&&typeof c=="object"}function Ja(c){return Y(c)&&typeof c.nominator=="number"&&typeof c.nominee=="number"&&!c.specialVote}function Ua(c,s){return Ja(c)?s[c.nominee]?.role?.team==="traveler":!1}function Jn(c,s,e){return{nominator:c,nominee:s,specialVote:e}}const Ga={class:"allTheButtons"},Wa=["alt"],Za=["alt"],Ka=["alt"],Qa=["alt"],Xa=ee({__name:"SpecialVoteModal",setup(c){const{t:s}=ie(),e=se(),t=C(()=>e.state.modals),n=C(()=>e.state.session),i=C(()=>e.state.players.players);function d(u){e.commit("session/nomination",{nomination:u}),e.commit("toggleModal","specialVote")}function f(){d(Jn(s("modal.specialvote.st"),n.value.playerForSpecialVote,{type:"bishop"}))}function _(){d(Jn(n.value.playerForSpecialVote,s("modal.specialvote.st"),{type:"atheist"}))}function k(){d(Jn(n.value.playerForSpecialVote,null,{type:"cultleader",timerText:s("modal.specialvote.cultleaderMessages.timerText"),debateText:s("modal.specialvote.cultleaderMessages.debateText"),buttonLabel:s("modal.specialvote.cultleaderMessages.buttonLabel")}))}function $(){const u=i.value[n.value.playerForSpecialVote].name,m=prompt(s("modal.specialvote.complete")+u+" ____________________"+s("vote.exclam"));m&&d(Jn(n.value.playerForSpecialVote,null,{type:"custom",timerText:m,debateText:s("modal.specialvote.customMessages.debateText"),buttonLabel:s("modal.specialvote.customMessages.buttonLabel")}))}function O(u){e.commit("toggleModal",u)}return(u,m)=>t.value.specialVote?(l(),G(de,{key:0,onClose:m[4]||(m[4]=p=>O("specialVote"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.specialvote.title")),1),o("div",Ga,[o("button",{onClick:m[0]||(m[0]=p=>f())},[o("img",{src:Ha,alt:g(s)("modal.specialvote.bishop")},null,8,Wa),o("span",null,a(g(s)("modal.specialvote.bishop")),1)]),o("button",{onClick:m[1]||(m[1]=p=>_())},[o("img",{src:qa,alt:g(s)("modal.specialvote.atheist")},null,8,Za),o("span",null,a(g(s)("modal.specialvote.atheist")),1)]),o("button",{onClick:m[2]||(m[2]=p=>k())},[o("img",{src:La,alt:g(s)("modal.specialvote.cultleader")},null,8,Ka),o("span",null,a(g(s)("modal.specialvote.cultleader")),1)]),o("button",{onClick:m[3]||(m[3]=p=>$())},[o("img",{src:Fa,alt:g(s)("modal.specialvote.custom")},null,8,Qa),o("span",null,a(g(s)("modal.specialvote.custom")),1)])])]),_:1})):v("",!0)}}),Ya=ne(Xa,[["__scopeId","data-v-d01273ca"]]),el={key:1,class:"options"},sl={scope:"col"},tl={scope:"col"},nl={scope:"col"},ol={scope:"col"},il={scope:"col"},al={scope:"col"},ll={scope:"col"},rl={key:0},cl={key:1},gl=ee({__name:"VoteHistoryModal",setup(c){const{t:s}=ie(),e=se(),t=C(()=>e.state.session),n=C(()=>e.state.modals),i=()=>{e.commit("session/clearVoteHistory")},d=()=>{e.commit("session/setVoteHistoryAllowed",!t.value.isVoteHistoryAllowed)},f=_=>{e.commit("toggleModal",_)};return(_,k)=>{const $=ge("font-awesome-icon");return n.value.voteHistory&&(t.value.voteHistory||!t.value.isSpectator)?(l(),G(de,{key:0,class:"vote-history",onClose:k[0]||(k[0]=O=>f("voteHistory"))},{default:pe(()=>[t.value.isSpectator?(l(),G($,{key:0,icon:"trash-alt",class:"fa fa-trash-alt clear",title:"Clear vote history",onClick:i})):v("",!0),o("h3",null,a(g(s)("modal.voteHistory.title")),1),t.value.isSpectator?v("",!0):(l(),r("div",el,[o("div",{class:"option",onClick:d},[w($,{icon:["fas",t.value.isVoteHistoryAllowed?"check-square":"square"]},null,8,["icon"]),R(" "+a(g(s)("modal.voteHistory.accessibility")),1)]),o("div",{class:"option",onClick:i},[w($,{icon:"trash-alt",class:"fa fa-trash-alt"}),R(" "+a(g(s)("modal.voteHistory.clear")),1)])])),o("table",null,[o("thead",null,[o("tr",null,[o("th",sl,a(g(s)("modal.voteHistory.time")),1),o("th",tl,a(g(s)("modal.voteHistory.nominator")),1),o("th",nl,a(g(s)("modal.voteHistory.nominee")),1),o("th",ol,a(g(s)("modal.voteHistory.type")),1),o("th",il,a(g(s)("modal.voteHistory.votes")),1),o("th",al,a(g(s)("modal.voteHistory.majority")),1),o("th",ll,[w($,{icon:"user-friends",class:"fa fa-user-friends"}),R(" "+a(g(s)("modal.voteHistory.voters")),1)])])]),o("tbody",null,[(l(!0),r(H,null,Q(t.value.voteHistory,(O,u)=>(l(),r("tr",{key:u},[o("td",null,a(O.timestamp.getHours().toString().padStart(2,"0"))+":"+a(O.timestamp.getMinutes().toString().padStart(2,"0")),1),o("td",null,a(O.nominator),1),o("td",null,a(O.nominee),1),o("td",null,a(O.type),1),o("td",null,[R(a(O.votes==null?"?":O.votes.length)+" ",1),w($,{icon:"hand-paper",class:"fa fa-hand-paper"})]),O.nominee?(l(),r("td",rl,[R(a(O.majority)+" ",1),w($,{icon:["fas",O.votes==null?"minus-square":O.votes.length>=O.majority?"check-square":"square"]},null,8,["icon"])])):(l(),r("td",cl)),o("td",null,a(O.votes==null?g(s)("modal.voteHistory.hiddenVote"):O.votes.join(", ")),1)]))),128))])])]),_:1})):v("",!0)}}}),pl=ne(gl,[["__scopeId","data-v-81a0e682"]]),Gn="/countdown.DRzblIRW.mp3",ro="/rooster.TVpA4sXi.mp3",ul="/dawn.BmSELcsO.png",ml=["data-text"],dl=ee({__name:"Countdown",props:{timerName:{},timerDuration:{}},setup(c){const s=c,e=C(()=>`--timer: ${s.timerDuration}`);return(t,n)=>(l(),r("div",{"data-text":t.timerName,style:te(e.value),class:"countdown"},null,12,ml))}}),Eo=ne(dl,[["__scopeId","data-v-8a266eee"]]),_l={class:"info"},vl={key:0},fl={key:0,class:"meta"},hl={key:1},yl={key:1},bl={key:0},kl={key:2},wl={key:3},Sl=["autoplay","muted"],Cl={key:4},$l=["autoplay","muted"],Il={key:5,class:"marked"},Ml=ee({__name:"TownInfo",setup(c){const{t:s}=ie(),e=se(),t=C(()=>e.state.edition),n=C(()=>e.state.grimoire),i=C(()=>e.state.session),d=C(()=>e.state.players.players),f=C(()=>typeof i.value.markedPlayer=="string"&&!(i.value.isSpectator&&n.value.isOrganVoteMode)),_=C(()=>t.value.logo&&!t.value.logo.includes(".")?new URL(Object.assign({"../assets/logos/balloonist.png":vo,"../assets/logos/bmr.png":fo,"../assets/logos/catfishing.png":ho,"../assets/logos/clockmaker.png":yo,"../assets/logos/custom.png":bo,"../assets/logos/doomsayer.png":ko,"../assets/logos/godfather.png":wo,"../assets/logos/hide_seek.png":So,"../assets/logos/leviathan.png":Co,"../assets/logos/luf.png":$o,"../assets/logos/midnight_oasis.png":Io,"../assets/logos/poppyganda.png":Mo,"../assets/logos/pukka.png":Oo,"../assets/logos/reptiles.png":No,"../assets/logos/rochambeau.png":Vo,"../assets/logos/snv.png":Ro,"../assets/logos/spooky_tea.png":xo,"../assets/logos/spooky_tea_2.png":Po,"../assets/logos/tb.png":To,"../assets/logos/the-horrifying-spectacle.png":jo})[`../assets/logos/${t.value.logo}.png`],import.meta.url).href:t.value.logo&&n.value.isImageOptIn?t.value.logo:new URL("/custom.CTEroFHN.png",import.meta.url).href),k=C(()=>{const $=e.getters["players/nonTravelers"],O=d.value.filter(m=>m.isDead!==!0).length,u=d.value.filter(m=>m.isDead!==!0&&m.role.team!=="traveler").length;return{...Do[$-5],traveler:d.value.length-$,alive:O,aliveNT:u,votes:d.value.filter(m=>!m.isDead&&m.role.id!=="beggar"||m.voteToken).length}});return($,O)=>{const u=ge("font-awesome-icon");return l(),r("ul",_l,[O[3]||(O[3]=o("audio",{preload:"auto"},[o("source",{src:Gn}),o("source",{src:ro})],-1)),o("li",{class:B(["edition",["edition-"+t.value.id]]),style:te({backgroundImage:"url("+_.value+")"})},null,6),d.value.length-k.value.traveler<5?(l(),r("li",vl,a(g(s)("towninfo.addPlayers")),1)):v("",!0),o("li",null,[t.value.isOfficial?v("",!0):(l(),r("span",fl,a(t.value.name)+" "+a(t.value.author?" ©"+t.value.author:""),1)),o("span",null,[R(a(d.value.length)+" ",1),w(u,{icon:"users",class:"players fa-users"})]),o("span",null,[R(a(k.value.alive)+" ",1),w(u,{icon:"heartbeat",class:"alive fa-heartbeat"})]),k.value.traveler>0?(l(),r("span",hl,[R(a(k.value.aliveNT)+" ",1),w(u,{icon:"house-user",class:"alive fa-house-user"})])):v("",!0),o("span",null,[R(a(k.value.votes)+" ",1),w(u,{icon:"vote-yea",class:"votes fa-vote-yea"})])]),d.value.length-k.value.traveler>=5?(l(),r("li",yl,[o("span",null,[R(a(k.value.townsfolk)+" ",1),w(u,{icon:"user-friends",class:"townsfolk fa-user-friends"})]),o("span",null,[R(a(k.value.outsider)+" ",1),w(u,{class:"outsider",icon:(k.value.outsider||0)>1?"user-friends":"user"},null,8,["icon"])]),o("span",null,[R(a(k.value.minion)+" ",1),w(u,{class:"minion",icon:(k.value.minion||0)>1?"user-friends":"user"},null,8,["icon"])]),o("span",null,[R(a(k.value.demon)+" ",1),w(u,{class:"demon",icon:(k.value.demon||0)>1?"user-friends":"user"},null,8,["icon"])]),k.value.traveler?(l(),r("span",bl,[R(a(k.value.traveler)+" ",1),w(u,{class:"traveler",icon:k.value.traveler>1?"user-friends":"user"},null,8,["icon"])])):v("",!0)])):v("",!0),n.value.isNight?(l(),r("li",kl,[w(u,{icon:["fas","cloud-moon"]}),R(" "+a(g(s)("towninfo.nightPhase")),1)])):v("",!0),n.value.isRinging?(l(),r("li",wl,[o("audio",{autoplay:!n.value.isMuted,muted:n.value.isMuted},O[0]||(O[0]=[o("source",{src:Gn},null,-1)]),8,Sl),w(u,{icon:["fas","music"]}),w(u,{icon:["fas","bell"]}),w(u,{icon:["fas","music"]})])):n.value.isRooster?(l(),r("li",Cl,[o("audio",{autoplay:!n.value.isMuted,muted:n.value.isMuted},O[1]||(O[1]=[o("source",{src:ro},null,-1)]),8,$l),O[2]||(O[2]=o("img",{src:ul,style:{height:"2em"}},null,-1))])):v("",!0),f.value?(l(),r("li",Il,[w(u,{icon:"skull",class:"fa fa-skull"})])):v("",!0),o("li",null,[n.value.timer.duration?(l(),G(Eo,{key:0,"timer-name":n.value.timer.name,"timer-duration":n.value.timer.duration,class:"timer"},null,8,["timer-name","timer-duration"])):v("",!0)])])}}}),Ol=ne(Ml,[["__scopeId","data-v-49092e55"]]),Nl={key:0,class:"night-order first"},Vl={key:0},Rl={key:1,class:"night-order other"},xl={key:0},Pl={class:"overlay"},Tl={class:"marked"},jl={key:1,class:"pronouns"},Dl={key:0,class:"menu"},El=["onClick"],zl={class:"text"},Bl=ee({__name:"Seat",props:{player:{},unchecked:{type:Boolean}},emits:["update-player","trigger"],setup(c,{emit:s}){const{t:e}=ie(),t=c,n=s,i=se(),d=C(()=>i.state.players.players),f=C(()=>i.state.grimoire),_=C(()=>i.state.session),k=C(()=>i.getters["players/nightOrder"]),$=C(()=>d.value.indexOf(t.player)),O=C(()=>{if(!Y(_.value.nomination))return!1;const T=_.value.nomination,I=d.value.length;let M;if(typeof T.nominee=="number")M=T.nominee;else if(typeof T.nominator=="number")M=T.nominator;else return!1;return($.value-1+I-M)%I<_.value.lockedVote-1}),u=C(()=>Y(_.value.nomination)?!!_.value.nomination.specialVote?.timerText:!1),m=C(()=>d.value.length<7?{width:18+f.value.zoom+"vmin"}:d.value.length<=10?{width:16+f.value.zoom+"vmin"}:d.value.length<=15?{width:14+f.value.zoom+"vmin"}:{width:12+f.value.zoom+"vmin"}),p=K(!1);function b(){if(_.value.isSpectator&&t.player.id!==_.value.playerId)return;const T=prompt("Player pronouns",t.player.pronouns);T!==null&&N("pronouns",T,!0)}function S(){f.value.isPublic?t.player.isDead?t.player.voteToken?N("voteToken",!1):(N("voteToken",!0),N("isDead",!1)):(N("isDead",!0),_.value.markedPlayer===$.value&&i.commit("session/setMarkedPlayer",-1)):(N("isDead",!t.player.isDead),_.value.markedPlayer===$.value&&i.commit("session/setMarkedPlayer",-1),t.player.voteToken!=t.player.isDead&&N("voteToken",!t.player.voteToken))}function y(){if(_.value.isSpectator)return;const T=prompt("Player name",t.player.name)||t.player.name;N("name",T,!0)}function E(T){const I=[...t.player.reminders];I.splice(t.player.reminders.indexOf(T),1),N("reminders",I,!0)}function V(T){return new URL(Object.assign({"../assets/icons/acrobat.png":fe,"../assets/icons/alchemist.png":he,"../assets/icons/alhadikhia.png":ye,"../assets/icons/alsaahir.png":be,"../assets/icons/amnesiac.png":ke,"../assets/icons/angel.png":we,"../assets/icons/apprentice.png":Se,"../assets/icons/artist.png":Ce,"../assets/icons/assassin.png":$e,"../assets/icons/atheist.png":Ie,"../assets/icons/balloonist.png":Me,"../assets/icons/banshee.png":Oe,"../assets/icons/barber.png":Ne,"../assets/icons/barista.png":Ve,"../assets/icons/baron.png":Re,"../assets/icons/beggar.png":xe,"../assets/icons/bishop.png":Pe,"../assets/icons/boffin.png":Te,"../assets/icons/bonecollector.png":je,"../assets/icons/boomdandy.png":De,"../assets/icons/bootlegger.png":Ee,"../assets/icons/bountyhunter.png":ze,"../assets/icons/buddhist.png":Be,"../assets/icons/bureaucrat.png":Ae,"../assets/icons/butcher.png":He,"../assets/icons/butler.png":qe,"../assets/icons/cacklejack.png":Le,"../assets/icons/cannibal.png":Fe,"../assets/icons/cerenovus.png":Je,"../assets/icons/chambermaid.png":Ue,"../assets/icons/chef.png":Ge,"../assets/icons/choirboy.png":We,"../assets/icons/clockmaker.png":Ze,"../assets/icons/courtier.png":Ke,"../assets/icons/cultleader.png":Qe,"../assets/icons/custom.png":Xe,"../assets/icons/damsel.png":Ye,"../assets/icons/dawn.png":es,"../assets/icons/demon.png":ss,"../assets/icons/deusexfiasco.png":ts,"../assets/icons/deviant.png":ns,"../assets/icons/devilsadvocate.png":os,"../assets/icons/djinn.png":is,"../assets/icons/doomsayer.png":as,"../assets/icons/dreamer.png":ls,"../assets/icons/drunk.png":rs,"../assets/icons/duchess.png":cs,"../assets/icons/dusk.png":gs,"../assets/icons/empath.png":ps,"../assets/icons/engineer.png":us,"../assets/icons/evil.png":ms,"../assets/icons/eviltwin.png":ds,"../assets/icons/exorcist.png":_s,"../assets/icons/fabled.png":vs,"../assets/icons/fanggu.png":fs,"../assets/icons/farmer.png":hs,"../assets/icons/fearmonger.png":ys,"../assets/icons/ferryman.png":bs,"../assets/icons/fibbin.png":ks,"../assets/icons/fiddler.png":ws,"../assets/icons/fisherman.png":Ss,"../assets/icons/flowergirl.png":Cs,"../assets/icons/fool.png":$s,"../assets/icons/fortuneteller.png":Is,"../assets/icons/gambler.png":Ms,"../assets/icons/gangster.png":Os,"../assets/icons/gardener.png":Ns,"../assets/icons/general.png":Vs,"../assets/icons/gnome.png":Rs,"../assets/icons/goblin.png":xs,"../assets/icons/godfather.png":Ps,"../assets/icons/golem.png":Ts,"../assets/icons/good.png":js,"../assets/icons/goon.png":Ds,"../assets/icons/gossip.png":Es,"../assets/icons/grandmother.png":zs,"../assets/icons/gunslinger.png":Bs,"../assets/icons/harlot.png":As,"../assets/icons/harpy.png":Hs,"../assets/icons/hatter.png":qs,"../assets/icons/hellslibrarian.png":Ls,"../assets/icons/heretic.png":Fs,"../assets/icons/hermit.png":Js,"../assets/icons/highpriestess.png":Us,"../assets/icons/huntsman.png":Gs,"../assets/icons/imp.png":Ws,"../assets/icons/innkeeper.png":Zs,"../assets/icons/investigator.png":Ks,"../assets/icons/judge.png":Qs,"../assets/icons/juggler.png":Xs,"../assets/icons/kazali.png":Ys,"../assets/icons/king.png":et,"../assets/icons/klutz.png":st,"../assets/icons/knight.png":tt,"../assets/icons/legion.png":nt,"../assets/icons/leviathan.png":ot,"../assets/icons/librarian.png":it,"../assets/icons/lilmonsta.png":at,"../assets/icons/lleech.png":lt,"../assets/icons/lordoftyphon.png":rt,"../assets/icons/lunatic.png":ct,"../assets/icons/lycanthrope.png":gt,"../assets/icons/magician.png":pt,"../assets/icons/marionette.png":ut,"../assets/icons/mastermind.png":mt,"../assets/icons/mathematician.png":dt,"../assets/icons/matron.png":_t,"../assets/icons/mayor.png":vt,"../assets/icons/mephit.png":ft,"../assets/icons/mezepheles.png":ht,"../assets/icons/minion.png":yt,"../assets/icons/minstrel.png":bt,"../assets/icons/monk.png":kt,"../assets/icons/moonchild.png":wt,"../assets/icons/mutant.png":St,"../assets/icons/nightwatchman.png":Ct,"../assets/icons/noble.png":$t,"../assets/icons/nodashii.png":It,"../assets/icons/ogre.png":Mt,"../assets/icons/ojo.png":Ot,"../assets/icons/oracle.png":Nt,"../assets/icons/organgrinder.png":Vt,"../assets/icons/outsider.png":Rt,"../assets/icons/pacifist.png":xt,"../assets/icons/philosopher.png":Pt,"../assets/icons/pithag.png":Tt,"../assets/icons/pixie.png":jt,"../assets/icons/plaguedoctor.png":Dt,"../assets/icons/plus.png":Et,"../assets/icons/po.png":zt,"../assets/icons/poisoner.png":Bt,"../assets/icons/politician.png":At,"../assets/icons/poppygrower.png":Ht,"../assets/icons/preacher.png":qt,"../assets/icons/princess.png":Lt,"../assets/icons/professor.png":Ft,"../assets/icons/psychopath.png":Jt,"../assets/icons/pukka.png":Ut,"../assets/icons/puzzlemaster.png":Gt,"../assets/icons/ravenkeeper.png":Wt,"../assets/icons/recluse.png":Zt,"../assets/icons/revolutionary.png":Kt,"../assets/icons/riot.png":Qt,"../assets/icons/sage.png":Xt,"../assets/icons/sailor.png":Yt,"../assets/icons/saint.png":en,"../assets/icons/savant.png":sn,"../assets/icons/scapegoat.png":tn,"../assets/icons/scarletwoman.png":nn,"../assets/icons/seamstress.png":on,"../assets/icons/sentinel.png":an,"../assets/icons/shabaloth.png":ln,"../assets/icons/shugenja.png":rn,"../assets/icons/slayer.png":cn,"../assets/icons/snakecharmer.png":gn,"../assets/icons/snitch.png":pn,"../assets/icons/soldier.png":un,"../assets/icons/spiritofivory.png":mn,"../assets/icons/spy.png":dn,"../assets/icons/steward.png":_n,"../assets/icons/stormcatcher.png":vn,"../assets/icons/summoner.png":fn,"../assets/icons/sweetheart.png":hn,"../assets/icons/tealady.png":yn,"../assets/icons/thief.png":bn,"../assets/icons/tinker.png":kn,"../assets/icons/towncrier.png":wn,"../assets/icons/townsfolk.png":Sn,"../assets/icons/toymaker.png":Cn,"../assets/icons/traveler.png":$n,"../assets/icons/undertaker.png":In,"../assets/icons/vigormortis.png":Mn,"../assets/icons/villageidiot.png":On,"../assets/icons/virgin.png":Nn,"../assets/icons/vizier.png":Vn,"../assets/icons/vortox.png":Rn,"../assets/icons/voudon.png":xn,"../assets/icons/washerwoman.png":Pn,"../assets/icons/widow.png":Tn,"../assets/icons/witch.png":jn,"../assets/icons/wizard.png":Dn,"../assets/icons/wraith.png":En,"../assets/icons/x.png":zn,"../assets/icons/xaan.png":Bn,"../assets/icons/yaggababble.png":An,"../assets/icons/zealot.png":Hn,"../assets/icons/zombuul.png":qn})[`../assets/icons/${T}.png`],import.meta.url).href}function N(T,I,M=!1){_.value.isSpectator&&T!=="reminders"&&T!=="pronouns"||(i.commit("players/update",{player:t.player,property:T,value:I}),M&&(p.value=!1))}function D(){p.value=!1,n("trigger",["removePlayer"])}function L(T){p.value=!1,n("trigger",["swapPlayer",T])}function W(T){p.value=!1,n("trigger",["movePlayer",T])}function J(T){p.value=!1,n("trigger",["nominatePlayer",T])}function oe(){p.value=!1,i.commit("session/setPlayerForSpecialVote",d.value.indexOf(t.player)),i.commit("toggleModal","specialVote")}function le(){n("trigger",["cancel"])}function ue(){p.value=!1,n("trigger",["claimSeat"])}function ae(){_.value.isSpectator||O.value&&i.commit("session/voteSync",[$.value,!_.value.votes[$.value]])}return(T,I)=>{const M=ge("font-awesome-icon");return l(),r("li",{style:te(m.value)},[o("div",{ref:"player",class:B(["player",[{dead:t.player.isDead,marked:_.value.markedPlayer===$.value,"no-vote":!t.player.voteToken,you:_.value.sessionId&&t.player.id&&t.player.id===_.value.playerId,"vote-yes":_.value.votes[$.value],"vote-lock":O.value},t.player.role.team]])},[o("div",{class:"shroud",onClick:I[0]||(I[0]=h=>S())}),o("div",{class:"life",onClick:I[1]||(I[1]=h=>S())}),k.value.get(t.player).first&&(f.value.isNightOrder||!_.value.isSpectator)?(l(),r("div",Nl,[o("em",null,a(k.value.get(t.player).first)+".",1),t.player.role.firstNightReminder?(l(),r("span",Vl,a(t.player.role.firstNightReminder),1)):v("",!0)])):v("",!0),k.value.get(t.player).other&&(f.value.isNightOrder||!_.value.isSpectator)?(l(),r("div",Rl,[o("em",null,a(k.value.get(t.player).other)+".",1),t.player.role.otherNightReminder?(l(),r("span",xl,a(t.player.role.otherNightReminder),1)):v("",!0)])):v("",!0),w(_e,{role:t.player.role,onSetRole:I[2]||(I[2]=h=>T.$emit("trigger",["openRoleModal"]))},null,8,["role"]),o("div",Pl,[!f.value.isOrganVoteMode||u.value||!_.value.isSpectator||t.player.id==_.value.playerId?(l(),G(M,{key:0,icon:"hand-paper",class:"fa fa-hand-paper vote",title:g(e)("player.handUp"),onClick:I[3]||(I[3]=h=>ae())},null,8,["title"])):v("",!0),f.value.isOrganVoteMode&&!u.value&&_.value.isSpectator&&t.player.id!==_.value.playerId?(l(),G(M,{key:1,icon:"question",class:"fa fa-question vote",title:g(e)("player.handUp"),onClick:I[4]||(I[4]=h=>ae())},null,8,["title"])):v("",!0),!f.value.isOrganVoteMode||!_.value.isSpectator||t.player.id==_.value.playerId?(l(),G(M,{key:2,icon:"times",class:"fa fa-times vote",title:g(e)("player.handDown"),onClick:I[5]||(I[5]=h=>ae())},null,8,["title"])):v("",!0),f.value.isOrganVoteMode&&!u.value&&_.value.isSpectator&&t.player.id!==_.value.playerId?(l(),G(M,{key:3,icon:"question",class:"fa fa-question vote",title:g(e)("player.handDown"),onClick:I[6]||(I[6]=h=>ae())},null,8,["title"])):v("",!0),w(M,{icon:"times-circle",class:"fa fa-times-circle cancel",title:g(e)("player.cancel"),onClick:I[7]||(I[7]=h=>le())},null,8,["title"]),w(M,{icon:"exchange-alt",class:"fa fa-exchange-alt swap",title:g(e)("player.swap"),onClick:I[8]||(I[8]=h=>L(t.player))},null,8,["title"]),w(M,{icon:"redo-alt",class:"fa fa-redo-alt move",title:g(e)("player.move"),onClick:I[9]||(I[9]=h=>W(t.player))},null,8,["title"]),w(M,{icon:"hand-point-right",class:"fa fa-hand-point-right nominate",title:g(e)("player.nominate"),onClick:I[10]||(I[10]=h=>J(t.player))},null,8,["title"])]),t.player.id&&_.value.sessionId?(l(),G(M,{key:2,icon:"chair",class:B(["fa fa-chair seat",{highlight:_.value.isRolesDistributed}])},null,8,["class"])):v("",!0),(t.player.isDead||T.player.role.id=="beggar")&&t.player.voteToken?(l(),G(M,{key:3,icon:"vote-yea",class:"fa fa-vote-yea has-vote",title:g(e)("player.ghostVote"),onClick:I[11]||(I[11]=h=>N("voteToken",!1))},null,8,["title"])):v("",!0),(t.player.isDead||T.player.role.id=="beggar")&&!t.player.voteToken&&!_.value.isSpectator?(l(),G(M,{key:4,icon:"vote-yea",class:"fa fa-vote-yea has-vote no-token",title:g(e)("player.ghostVote"),onClick:I[12]||(I[12]=h=>N("voteToken",!0))},null,8,["title"])):v("",!0),o("div",Tl,[_.value.isSpectator&&f.value.isOrganVoteMode?v("",!0):(l(),G(M,{key:0,icon:"skull",class:"fa fa-skull"}))]),o("div",{class:B(["name",{active:p.value}]),onClick:I[13]||(I[13]=h=>p.value=!p.value)},[o("span",null,a(t.player.name),1),t.player.pronouns?(l(),G(M,{key:0,icon:"venus-mars",class:"fa fa-venus-mars"})):v("",!0),t.player.pronouns?(l(),r("div",jl,[o("span",null,a(t.player.pronouns),1)])):v("",!0)],2),w(_o,{name:"fold"},{default:pe(()=>[p.value?(l(),r("ul",Dl,[!_.value.isSpectator||_.value.isSpectator&&t.player.id===_.value.playerId?(l(),r("li",{key:0,onClick:b},[w(M,{icon:"venus-mars",class:"fa fa-venus-mars"}),R(" "+a(g(e)("player.changePronouns")),1)])):v("",!0),_.value.isSpectator?v("",!0):(l(),r(H,{key:1},[o("li",{onClick:y},[w(M,{icon:"user-edit",class:"fa fa-user-edit"}),R(" "+a(g(e)("player.changeName")),1)]),o("li",{class:B({disabled:_.value.lockedVote}),onClick:I[14]||(I[14]=h=>W())},[w(M,{icon:"redo-alt",class:"fa fa-redo-alt"}),R(" "+a(g(e)("player.movePlayer")),1)],2),o("li",{class:B({disabled:_.value.lockedVote}),onClick:I[15]||(I[15]=h=>L())},[w(M,{icon:"exchange-alt",class:"fa fa-exchange-alt"}),R(" "+a(g(e)("player.swapPlayers")),1)],2),o("li",{class:B({disabled:_.value.lockedVote}),onClick:D},[w(M,{icon:"times-circle",class:"fa fa-times-circle"}),R(" "+a(g(e)("player.removePlayer")),1)],2),t.player.id&&_.value.sessionId?(l(),r("li",{key:0,onClick:I[16]||(I[16]=h=>N("id","",!0))},[w(M,{icon:"chair",class:"fa fa-chair"}),R(" "+a(g(e)("player.emptySeat")),1)])):v("",!0),_.value.nomination?v("",!0):(l(),r("li",{key:1,onClick:I[17]||(I[17]=h=>J())},[w(M,{icon:"hand-point-right",class:"fa fa-hand-point-right"}),R(" "+a(g(e)("player.nomination")),1)])),_.value.nomination?v("",!0):(l(),r("li",{key:2,onClick:I[18]||(I[18]=h=>oe())},[w(M,{icon:"vote-yea",class:"fa fa-vote-yea"}),R(" "+a(g(e)("player.specialVote")),1)]))],64)),_.value.isSpectator?(l(),r("li",{key:2,class:B({disabled:t.player.id&&t.player.id!==_.value.playerId}),onClick:ue},[w(M,{icon:"chair",class:"fa fa-chair"}),t.player.id?t.player.id===_.value.playerId?(l(),r(H,{key:1},[R(a(g(e)("player.vacateSeat")),1)],64)):(l(),r(H,{key:2},[R(a(g(e)("player.occupiedSeat")),1)],64)):(l(),r(H,{key:0},[R(a(g(e)("player.claimSeat")),1)],64))],2)):v("",!0)])):v("",!0)]),_:1})],2),t.player.reminders?(l(!0),r(H,{key:0},Q(t.player.reminders,h=>(l(),r("div",{key:h.role+" "+h.name,class:B(["reminder",[h.role]]),onClick:z=>E(h)},[o("span",{class:"icon",style:te({backgroundImage:`url(${h.image&&f.value.isImageOptIn?h.image:V(h.imageAlt||h.role)})`})},null,4),o("span",zl,a(h.name),1)],10,El))),128)):v("",!0),o("div",{class:"reminder add",onClick:I[19]||(I[19]=h=>T.$emit("trigger",["openReminderModal"]))},I[20]||(I[20]=[o("span",{class:"icon"},null,-1)])),I[21]||(I[21]=o("div",{class:"reminderHoverTarget"},null,-1))],4)}}}),Al={class:"reminders"},Hl=["onClick"],ql={class:"text"},Ll=ee({__name:"ReminderModal",props:{playerIndex:{}},setup(c){const{t:s}=ie(),e=({id:u,image:m,imageAlt:p})=>b=>({role:u,image:m||"",imageAlt:p||"",name:b,id:`${u}-${b}`}),t=c,n=se(),i=C(()=>n.state.modals),d=C(()=>n.state.grimoire),f=C(()=>n.state.players.players),_=C(()=>{let u=[];const{players:m,bluffs:p}=n.state.players;return n.state.roles.forEach(b=>{m.some(S=>S.role.id===b.id)?u=[...u,...b.reminders.map(e(b))]:p.some(S=>S.id===b.id)&&(u=[...u,...b.reminders.map(e(b))]),b.remindersGlobal&&b.remindersGlobal.length&&(u=[...u,...b.remindersGlobal.map(e(b))])}),n.state.players.fabled.forEach(b=>{u=[...u,...b.reminders.map(e(b))]}),n.state.otherTravelers.forEach(b=>{m.some(S=>S.role.id===b.id)&&(u=[...u,...b.reminders.map(e(b))])}),u.push({id:"good",role:"good",name:s("modal.reminder.good")}),u.push({id:"evil",role:"evil",name:s("modal.reminder.evil")}),u.push({id:"townsfolk",role:"townsfolk",name:s("modal.reminder.townsfolk")}),u.push({id:"outsider",role:"outsider",name:s("modal.reminder.outsider")}),u.push({id:"minion",role:"minion",name:s("modal.reminder.minion")}),u.push({id:"demon",role:"demon",name:s("modal.reminder.demon")}),u.push({id:"custom",role:"custom",name:s("modal.reminder.custom")}),u});function k(u){const m=n.state.players.players[t.playerIndex];let p;if(u.role==="custom"){const b=prompt(s("prompt.customNote"));if(!b)return;p=[...m.reminders,{role:"custom",name:b}]}else p=[...m.reminders,u];n.commit("players/update",{player:m,property:"reminders",value:p}),n.commit("toggleModal","reminder")}function $(u){return new URL(Object.assign({"../../assets/icons/acrobat.png":fe,"../../assets/icons/alchemist.png":he,"../../assets/icons/alhadikhia.png":ye,"../../assets/icons/alsaahir.png":be,"../../assets/icons/amnesiac.png":ke,"../../assets/icons/angel.png":we,"../../assets/icons/apprentice.png":Se,"../../assets/icons/artist.png":Ce,"../../assets/icons/assassin.png":$e,"../../assets/icons/atheist.png":Ie,"../../assets/icons/balloonist.png":Me,"../../assets/icons/banshee.png":Oe,"../../assets/icons/barber.png":Ne,"../../assets/icons/barista.png":Ve,"../../assets/icons/baron.png":Re,"../../assets/icons/beggar.png":xe,"../../assets/icons/bishop.png":Pe,"../../assets/icons/boffin.png":Te,"../../assets/icons/bonecollector.png":je,"../../assets/icons/boomdandy.png":De,"../../assets/icons/bootlegger.png":Ee,"../../assets/icons/bountyhunter.png":ze,"../../assets/icons/buddhist.png":Be,"../../assets/icons/bureaucrat.png":Ae,"../../assets/icons/butcher.png":He,"../../assets/icons/butler.png":qe,"../../assets/icons/cacklejack.png":Le,"../../assets/icons/cannibal.png":Fe,"../../assets/icons/cerenovus.png":Je,"../../assets/icons/chambermaid.png":Ue,"../../assets/icons/chef.png":Ge,"../../assets/icons/choirboy.png":We,"../../assets/icons/clockmaker.png":Ze,"../../assets/icons/courtier.png":Ke,"../../assets/icons/cultleader.png":Qe,"../../assets/icons/custom.png":Xe,"../../assets/icons/damsel.png":Ye,"../../assets/icons/dawn.png":es,"../../assets/icons/demon.png":ss,"../../assets/icons/deusexfiasco.png":ts,"../../assets/icons/deviant.png":ns,"../../assets/icons/devilsadvocate.png":os,"../../assets/icons/djinn.png":is,"../../assets/icons/doomsayer.png":as,"../../assets/icons/dreamer.png":ls,"../../assets/icons/drunk.png":rs,"../../assets/icons/duchess.png":cs,"../../assets/icons/dusk.png":gs,"../../assets/icons/empath.png":ps,"../../assets/icons/engineer.png":us,"../../assets/icons/evil.png":ms,"../../assets/icons/eviltwin.png":ds,"../../assets/icons/exorcist.png":_s,"../../assets/icons/fabled.png":vs,"../../assets/icons/fanggu.png":fs,"../../assets/icons/farmer.png":hs,"../../assets/icons/fearmonger.png":ys,"../../assets/icons/ferryman.png":bs,"../../assets/icons/fibbin.png":ks,"../../assets/icons/fiddler.png":ws,"../../assets/icons/fisherman.png":Ss,"../../assets/icons/flowergirl.png":Cs,"../../assets/icons/fool.png":$s,"../../assets/icons/fortuneteller.png":Is,"../../assets/icons/gambler.png":Ms,"../../assets/icons/gangster.png":Os,"../../assets/icons/gardener.png":Ns,"../../assets/icons/general.png":Vs,"../../assets/icons/gnome.png":Rs,"../../assets/icons/goblin.png":xs,"../../assets/icons/godfather.png":Ps,"../../assets/icons/golem.png":Ts,"../../assets/icons/good.png":js,"../../assets/icons/goon.png":Ds,"../../assets/icons/gossip.png":Es,"../../assets/icons/grandmother.png":zs,"../../assets/icons/gunslinger.png":Bs,"../../assets/icons/harlot.png":As,"../../assets/icons/harpy.png":Hs,"../../assets/icons/hatter.png":qs,"../../assets/icons/hellslibrarian.png":Ls,"../../assets/icons/heretic.png":Fs,"../../assets/icons/hermit.png":Js,"../../assets/icons/highpriestess.png":Us,"../../assets/icons/huntsman.png":Gs,"../../assets/icons/imp.png":Ws,"../../assets/icons/innkeeper.png":Zs,"../../assets/icons/investigator.png":Ks,"../../assets/icons/judge.png":Qs,"../../assets/icons/juggler.png":Xs,"../../assets/icons/kazali.png":Ys,"../../assets/icons/king.png":et,"../../assets/icons/klutz.png":st,"../../assets/icons/knight.png":tt,"../../assets/icons/legion.png":nt,"../../assets/icons/leviathan.png":ot,"../../assets/icons/librarian.png":it,"../../assets/icons/lilmonsta.png":at,"../../assets/icons/lleech.png":lt,"../../assets/icons/lordoftyphon.png":rt,"../../assets/icons/lunatic.png":ct,"../../assets/icons/lycanthrope.png":gt,"../../assets/icons/magician.png":pt,"../../assets/icons/marionette.png":ut,"../../assets/icons/mastermind.png":mt,"../../assets/icons/mathematician.png":dt,"../../assets/icons/matron.png":_t,"../../assets/icons/mayor.png":vt,"../../assets/icons/mephit.png":ft,"../../assets/icons/mezepheles.png":ht,"../../assets/icons/minion.png":yt,"../../assets/icons/minstrel.png":bt,"../../assets/icons/monk.png":kt,"../../assets/icons/moonchild.png":wt,"../../assets/icons/mutant.png":St,"../../assets/icons/nightwatchman.png":Ct,"../../assets/icons/noble.png":$t,"../../assets/icons/nodashii.png":It,"../../assets/icons/ogre.png":Mt,"../../assets/icons/ojo.png":Ot,"../../assets/icons/oracle.png":Nt,"../../assets/icons/organgrinder.png":Vt,"../../assets/icons/outsider.png":Rt,"../../assets/icons/pacifist.png":xt,"../../assets/icons/philosopher.png":Pt,"../../assets/icons/pithag.png":Tt,"../../assets/icons/pixie.png":jt,"../../assets/icons/plaguedoctor.png":Dt,"../../assets/icons/plus.png":Et,"../../assets/icons/po.png":zt,"../../assets/icons/poisoner.png":Bt,"../../assets/icons/politician.png":At,"../../assets/icons/poppygrower.png":Ht,"../../assets/icons/preacher.png":qt,"../../assets/icons/princess.png":Lt,"../../assets/icons/professor.png":Ft,"../../assets/icons/psychopath.png":Jt,"../../assets/icons/pukka.png":Ut,"../../assets/icons/puzzlemaster.png":Gt,"../../assets/icons/ravenkeeper.png":Wt,"../../assets/icons/recluse.png":Zt,"../../assets/icons/revolutionary.png":Kt,"../../assets/icons/riot.png":Qt,"../../assets/icons/sage.png":Xt,"../../assets/icons/sailor.png":Yt,"../../assets/icons/saint.png":en,"../../assets/icons/savant.png":sn,"../../assets/icons/scapegoat.png":tn,"../../assets/icons/scarletwoman.png":nn,"../../assets/icons/seamstress.png":on,"../../assets/icons/sentinel.png":an,"../../assets/icons/shabaloth.png":ln,"../../assets/icons/shugenja.png":rn,"../../assets/icons/slayer.png":cn,"../../assets/icons/snakecharmer.png":gn,"../../assets/icons/snitch.png":pn,"../../assets/icons/soldier.png":un,"../../assets/icons/spiritofivory.png":mn,"../../assets/icons/spy.png":dn,"../../assets/icons/steward.png":_n,"../../assets/icons/stormcatcher.png":vn,"../../assets/icons/summoner.png":fn,"../../assets/icons/sweetheart.png":hn,"../../assets/icons/tealady.png":yn,"../../assets/icons/thief.png":bn,"../../assets/icons/tinker.png":kn,"../../assets/icons/towncrier.png":wn,"../../assets/icons/townsfolk.png":Sn,"../../assets/icons/toymaker.png":Cn,"../../assets/icons/traveler.png":$n,"../../assets/icons/undertaker.png":In,"../../assets/icons/vigormortis.png":Mn,"../../assets/icons/villageidiot.png":On,"../../assets/icons/virgin.png":Nn,"../../assets/icons/vizier.png":Vn,"../../assets/icons/vortox.png":Rn,"../../assets/icons/voudon.png":xn,"../../assets/icons/washerwoman.png":Pn,"../../assets/icons/widow.png":Tn,"../../assets/icons/witch.png":jn,"../../assets/icons/wizard.png":Dn,"../../assets/icons/wraith.png":En,"../../assets/icons/x.png":zn,"../../assets/icons/xaan.png":Bn,"../../assets/icons/yaggababble.png":An,"../../assets/icons/zealot.png":Hn,"../../assets/icons/zombuul.png":qn})[`../../assets/icons/${u}.png`],import.meta.url).href}function O(u){n.commit("toggleModal",u)}return(u,m)=>i.value.reminder&&_.value.length&&f.value[u.playerIndex]?(l(),G(de,{key:0,onClose:m[0]||(m[0]=p=>O("reminder"))},{default:pe(()=>[o("h3",null,a(g(s)("modal.reminder.title")),1),o("ul",Al,[(l(!0),r(H,null,Q(_.value,p=>(l(),r("li",{key:p.role+" "+p.name,class:B(["reminder",[p.role]]),onClick:b=>k(p)},[o("span",{class:"icon",style:te({backgroundImage:`url(${p.image&&d.value.isImageOptIn?p.image:$(p.imageAlt||p.role)})`})},null,4),o("span",ql,a(p.name),1)],10,Hl))),128))])]),_:1})):v("",!0)}}),Fl=ne(Ll,[["__scopeId","data-v-05fa55ec"]]),Jl={key:0,class:"tokens"},Ul=["onClick"],Gl={key:1,class:"tokens"},Wl=["onClick"],Zl={key:2,class:"button-group"},Kl=ee({__name:"RoleModal",props:{playerIndex:{}},setup(c){const{t:s}=ie(),e=c,t=se(),n=K("editionRoles"),i=C(()=>{const u=[],m=t.state.players.players;return t.state.roles.forEach(p=>{(e.playerIndex>=0||e.playerIndex<0&&!m.some(b=>b.role.id===p.id))&&u.push(p)}),u.push({id:"empty",name:"",team:"townsfolk",ability:"",isCustom:!1,edition:"",firstNight:0,otherNight:0,firstNightReminder:"",otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,image:"",imageAlt:"",forbidden:!1}),u}),d=C(()=>t.state.modals),f=C(()=>t.state.session),_=C(()=>t.state.players.players),k=C(()=>t.state.otherTravelers),$=u=>{if(e.playerIndex<0)t.commit("players/setBluff",{index:e.playerIndex*-1-1,role:u});else{if(f.value.isSpectator&&u.team==="traveler")return;const m=t.state.players.players[e.playerIndex];t.commit("players/update",{player:m,property:"role",value:u})}n.value="editionRoles",t.commit("toggleModal","role")},O=()=>{n.value="editionRoles",t.commit("toggleModal","role")};return(u,m)=>d.value.role&&i.value.length?(l(),G(de,{key:0,onClose:O},{default:pe(()=>[o("h3",null,a(g(s)("modal.role.title"))+" "+a(u.playerIndex>=0&&_.value.length?_.value[u.playerIndex].name:g(s)("modal.role.bluff")),1),n.value==="editionRoles"||!k.value.size?(l(),r("ul",Jl,[(l(!0),r(H,null,Q(i.value,p=>(l(),r("li",{key:p.id,class:B([p.team]),onClick:b=>$(p)},[w(_e,{role:p},null,8,["role"])],10,Ul))),128))])):v("",!0),n.value==="otherTravelers"&&k.value.size?(l(),r("ul",Gl,[(l(!0),r(H,null,Q(k.value.values(),p=>(l(),r("li",{key:p.id,class:B([p.team]),onClick:b=>$(p)},[w(_e,{role:p},null,8,["role"])],10,Wl))),128))])):v("",!0),u.playerIndex>=0&&k.value.size&&!f.value.isSpectator?(l(),r("div",Zl,[o("span",{class:B(["button",{townsfolk:n.value==="editionRoles"}]),onClick:m[0]||(m[0]=p=>n.value="editionRoles")},a(g(s)("modal.role.editionRoles")),3),o("span",{class:B(["button",{townsfolk:n.value==="otherTravelers"}]),onClick:m[1]||(m[1]=p=>n.value="otherTravelers")},a(g(s)("modal.role.otherTravelers")),3)])):v("",!0)]),_:1})):v("",!0)}}),Ql=ne(Kl,[["__scopeId","data-v-f15a0484"]]),Xl={key:0},Yl={key:1},er=["onClick"],sr={class:"button-group"},tr={key:0,class:"button-group"},nr={key:1,class:"button-group"},or={class:"button-group"},ir={class:"button-group"},ar=["onClick"],lr={key:0,class:"night-order first"},rr={key:0},cr={key:1,class:"night-order other"},gr={key:0},pr=ee({__name:"TownSquare",setup(c){Zo(j=>({"4f6ed92d":$.value,f7bafe66:O.value}));const s=se(),{t:e}=ie(),t=C(()=>s.getters["players/nightOrder"]),n=C(()=>s.state.grimoire),i=C(()=>s.state.session),d=C(()=>s.state.players.players),f=C(()=>s.state.players.bluffs),_=C(()=>s.state.players.fabled),k=C(()=>Y(i.value.nomination)?!!i.value.nomination.specialVote?.timerText:!1),$=C(()=>JSON.stringify(e("modal.nightOrder.firstNight"))),O=C(()=>JSON.stringify(e("modal.nightOrder.otherNights"))),u=K(0),m=K(3),p=K(-1),b=K(-1),S=K(-1),y=K(!0),E=K(!0),V=K(!1),N=K("Timer"),D=K(1),L=K(!1),W=K(null),J=()=>{y.value=!y.value},oe=()=>{E.value=!E.value},le=()=>{V.value=!V.value},ue=j=>{i.value.isSpectator||s.commit("players/setFabled",{index:j})},ae=()=>{s.commit("toggleNight"),n.value.isNight?s.commit("session/setMarkedPlayer",-1):(s.commit("toggleRooster",!0),setTimeout(()=>s.commit("toggleRooster",!1),4e3))},T=()=>{s.commit("toggleRinging",!0),setTimeout(()=>s.commit("toggleRinging",!1),4e3)},I=(j,P)=>{const[U,A]=Array.isArray(P)?[P[0],P[1]]:[P,void 0],X={claimSeat:M,openReminderModal:h,openRoleModal:z,removePlayer:x,swapPlayer:q,movePlayer:F,nominatePlayer:Ln,toggleBluffs:J,toggleFabled:oe,toggleTimeControls:le,removeFabled:ue,toggleNight:ae,toggleRinging:T,renameTimer:Wn,setDaytimeTimer:Fn,setNominationTimer:Xn,setDuskTimer:Yn,setAccusationTimer:eo,setDefenseTimer:so,setDebateTimer:to,setSpecialVoteTimer:no,setSpecialDebateTimer:oo,setTimer:io,startTimer:ao,stopTimer:Zn};typeof X[U]=="function"&&X[U](j,A)},M=j=>{i.value.isSpectator&&(i.value.playerId===d.value[j].id?s.commit("session/claimSeat",-1):s.commit("session/claimSeat",j))},h=j=>{u.value=j,s.commit("toggleModal","reminder")},z=j=>{const P=d.value[j];i.value.isSpectator&&P&&P.role.team==="traveler"||(u.value=j,s.commit("toggleModal","role"))},x=j=>{if(i.value.isSpectator||i.value.lockedVote||!confirm(`Do you really want to remove ${d.value[j].name}?`))return;const{nomination:P}=i.value;P&&(P.includes(j)?s.commit("session/nomination"):(P.nominator>j||P.nominee>j)&&s.commit("session/setNomination",[P.nominator>j?P.nominator-1:P.nominator,P.nominee>j?P.nominee-1:P.nominee])),s.commit("players/remove",j)},q=(j,P)=>{if(!(i.value.isSpectator||i.value.lockedVote))if(P===void 0)Z(),p.value=j;else{if(i.value.nomination){const U=d.value.indexOf(P),A=i.value.nomination.map(X=>X===p.value?U:X===U?p.value:X);(i.value.nomination.nominator!==A.nominator||i.value.nomination.nominee!==A.nominee)&&s.commit("session/setNomination",A)}s.commit("players/swap",[p.value,d.value.indexOf(P)]),Z()}},F=(j,P)=>{if(!(i.value.isSpectator||i.value.lockedVote))if(P===void 0)Z(),b.value=j;else{if(i.value.nomination){const U=d.value.indexOf(P),A=i.value.nomination.map(X=>X===b.value?U:X>b.value&&X<=U?X-1:X<b.value&&X>=U?X+1:X);(i.value.nomination.nominator!==A.nominator||i.value.nomination.nominee!==A.nominee)&&s.commit("session/setNomination",A)}s.commit("players/move",[b.value,d.value.indexOf(P)]),Z()}},Ln=(j,P)=>{if(!(i.value.isSpectator||i.value.lockedVote))if(P===void 0)Z(),j!==S.value&&(S.value=j);else{const U={nominator:S.value,nominee:d.value.indexOf(P)};s.commit("session/nomination",{nomination:U}),Z()}},Z=()=>{b.value=-1,p.value=-1,S.value=-1},Wn=()=>{let j=prompt(e("townsquare.timer.prompt.name"),N.value);j===""&&(j=e("townsquare.timer.default.text")),j&&(N.value=j.trim())},Fn=()=>{D.value=8,N.value=e("townsquare.timer.daytime.text")},Xn=()=>{D.value=2,N.value=e("townsquare.timer.nominations.text")},Yn=()=>{D.value=1,N.value=e("townsquare.timer.dusk.text")},eo=()=>{if(!Y(i.value.nomination))return;D.value=1;const j=i.value.nomination;let P=e("townsquare.timer.accusation.text");const U=typeof j.nominator=="number"?d.value[j.nominator]?.name||"":typeof j.nominator=="string"?j.nominator.charAt(0).toUpperCase()+j.nominator.slice(1):"",A=typeof j.nominee=="number"?d.value[j.nominee]?.name||"":j.nominee||"";P=P.replace("$accusator",U).replace("$accusee",A),N.value=P},so=()=>{if(!Y(i.value.nomination))return;D.value=1;const j=i.value.nomination;let P=e("townsquare.timer.defense.text");const U=typeof j.nominee=="number"?d.value[j.nominee]?.name||"":typeof j.nominee=="string"?j.nominee.charAt(0).toUpperCase()+j.nominee.slice(1):"",A=typeof j.nominator=="number"?d.value[j.nominator]?.name||"":j.nominator||"";P=P.replace("$accusee",U).replace("$accusator",A),N.value=P},to=()=>{if(!Y(i.value.nomination))return;D.value=2;const j=i.value.nomination;let P=e("townsquare.timer.debate.text");const U=typeof j.nominee=="number"?d.value[j.nominee]?.name||"":j.nominee||"";P=P.replace("$accusee",U),N.value=P},no=()=>{if(!Y(i.value.nomination))return;D.value=1;const j=i.value.nomination,P=typeof j.nominator=="number"?d.value[j.nominator]?.name||"":j.nominator||"",U=j.specialVote?.timerText||"",A=`${P} ${U}`;N.value=A},oo=()=>{if(!Y(i.value.nomination))return;D.value=2;const j=i.value.nomination;let P=j.specialVote?.debateText||"";const U=typeof j.nominator=="number"?d.value[j.nominator]?.name||"":j.nominator||"";P=P.replace("$player",U),N.value=P},io=()=>{let j=prompt(e("townsquare.timer.prompt.duration"));if(isNaN(Number(j)))return alert(e("townsquare.timer.prompt.durationError"));Number(j)>0&&(D.value=Number(j))},ao=()=>{let j={name:N.value,duration:D.value*60};s.commit("setTimer",j),L.value=!0,W.value=setTimeout(Zn,j.duration*1e3)},Zn=()=>{s.commit("setTimer",{}),L.value=!1,W.value&&clearTimeout(W.value)};return(j,P)=>{const U=ge("font-awesome-icon");return l(),r("div",{id:"townsquare",class:B(["square",{public:n.value.isPublic,spectator:i.value.isSpectator,vote:i.value.nomination}])},[o("ul",{class:B(["circle",["size-"+d.value.length]])},[(l(!0),r(H,null,Q(d.value,(A,X)=>(l(),G(Bl,{key:X,player:A,class:B({from:Math.max(p.value,b.value,S.value)===X,swap:p.value>-1,move:b.value>-1,nominate:S.value>-1}),onTrigger:lo=>I(X,lo)},null,8,["player","class","onTrigger"]))),128))],2),d.value.length?(l(),r("div",{key:0,ref_key:"bluffs",ref:f,class:B(["bluffs",{closed:!y.value}])},[o("h3",null,[i.value.isSpectator?(l(),r("span",Xl,a(g(e)("townsquare.others")),1)):(l(),r("span",Yl,a(g(e)("townsquare.bluffs")),1)),w(U,{icon:"times-circle",class:"fa fa-times-circle",onClick:ce(J,["stop"])}),w(U,{icon:"plus-circle",class:"fa fa-plus-circle",onClick:ce(J,["stop"])})]),o("ul",null,[(l(!0),r(H,null,Q(m.value,A=>(l(),r("li",{key:A,onClick:X=>z(A*-1)},[w(_e,{role:f.value[A-1]},null,8,["role"])],8,er))),128))])],2)):v("",!0),i.value.isSpectator?v("",!0):(l(),r("div",{key:1,ref:"storytelling",class:B(["storytelling",{closed:!V.value}])},[o("h3",null,[o("span",null,a(g(e)("townsquare.storytellerTools")),1),w(U,{icon:"times-circle",class:"fa fa-times-circle",onClick:ce(le,["stop"])}),w(U,{icon:"plus-circle",class:"fa fa-plus-circle",onClick:ce(le,["stop"])})]),o("div",sr,[o("div",{class:"button",onClick:P[0]||(P[0]=A=>io())}," 🕑 "+a(D.value)+" min ",1),o("div",{class:"button",onClick:P[1]||(P[1]=A=>Wn())}," 🗏 "+a(N.value),1),o("div",{class:B(["button demon",{disabled:!L.value}]),onClick:P[2]||(P[2]=A=>Zn())}," ■ ",2),o("div",{class:B(["button townfolk",{disabled:L.value}]),onClick:P[3]||(P[3]=A=>ao())}," ⏵ ",2)]),i.value.nomination?(l(),r("div",tr,[k.value?(l(),r("div",{key:1,class:"button",onClick:P[5]||(P[5]=A=>no())},a(i.value.nomination.specialVote?.buttonLabel||i.value.nomination.specialVote?.type||"Special Vote"),1)):(l(),r("div",{key:0,class:"button",onClick:P[4]||(P[4]=A=>eo())},a(g(e)("townsquare.timer.accusation.button")),1)),k.value?v("",!0):(l(),r("div",{key:2,class:"button",onClick:P[6]||(P[6]=A=>so())},a(g(e)("townsquare.timer.defense.button")),1)),k.value?(l(),r("div",{key:4,class:"button",onClick:P[8]||(P[8]=A=>oo())},a(g(e)("townsquare.timer.debate.button")),1)):(l(),r("div",{key:3,class:"button",onClick:P[7]||(P[7]=A=>to())},a(g(e)("townsquare.timer.debate.button")),1))])):(l(),r("div",nr,[o("div",{class:"button",onClick:P[9]||(P[9]=A=>Fn())},a(g(e)("townsquare.timer.daytime.button")),1),o("div",{class:"button",onClick:P[10]||(P[10]=A=>Xn())},a(g(e)("townsquare.timer.nominations.button")),1),o("div",{class:"button",onClick:P[11]||(P[11]=A=>Yn())},a(g(e)("townsquare.timer.dusk.button")),1)])),o("div",or,[o("div",{class:B(["button",{disabled:n.value.isNight}]),onClick:P[12]||(P[12]=A=>ae())}," ☀ ",2),o("div",{class:B(["button",{disabled:!n.value.isNight}]),onClick:P[13]||(P[13]=A=>ae())}," ☽ ",2)]),o("div",ir,[o("div",{class:"button",onClick:P[14]||(P[14]=A=>T())},[w(U,{icon:["fas","bell"]})])])],2)),_.value.length?(l(),r("div",{key:2,class:B(["fabled",{closed:!E.value}])},[o("h3",null,[o("span",null,a(g(e)("townsquare.fabled")),1),w(U,{icon:"times-circle",class:"fa fa-times-circle",onClick:ce(oe,["stop"])}),w(U,{icon:"plus-circle",class:"fa fa-plus-circle",onClick:ce(oe,["stop"])})]),o("ul",null,[(l(!0),r(H,null,Q(_.value,(A,X)=>(l(),r("li",{key:X,onClick:lo=>ue(X)},[t.value.get(A).first&&(n.value.isNightOrder||!i.value.isSpectator)?(l(),r("div",lr,[o("em",null,a(t.value.get(A).first)+".",1),A.firstNightReminder?(l(),r("span",rr,a(A.firstNightReminder),1)):v("",!0)])):v("",!0),t.value.get(A).other&&(n.value.isNightOrder||!i.value.isSpectator)?(l(),r("div",cr,[o("em",null,a(t.value.get(A).other)+".",1),A.otherNightReminder?(l(),r("span",gr,a(A.otherNightReminder),1)):v("",!0)])):v("",!0),w(_e,{role:A},null,8,["role"])],8,ar))),128))])],2)):v("",!0),w(Fl,{"player-index":u.value},null,8,["player-index"]),w(Ql,{"player-index":u.value},null,8,["player-index"])],2)}}}),ur={id:"vote"},mr={class:"arrows"},dr={class:"overlay"},_r={class:"blue"},vr={key:0},fr={key:1,class:"blue"},hr={key:2,class:"blue"},yr={key:3},br={key:4},kr={key:0,class:"orange"},wr={key:1},Sr={class:"button-group"},Cr={key:2,class:"button-group mark"},$r={key:0},Ir={class:"button-group"},Mr={key:7},Or={key:0,class:"countdown"},Nr=["autoplay","muted"],Vr=ee({__name:"Vote",setup(c){const s=se(),{t:e}=ie(),t=C(()=>s.state.players.players),n=C(()=>s.state.session),i=C(()=>s.state.grimoire),d=C(()=>s.getters["players/alive"]),f=K(null),_=C(()=>{if(!Y(n.value.nomination))return null;const M=n.value.nomination.nominator;return typeof M=="number"&&t.value[M]||null}),k=C(()=>{if(!Y(n.value.nomination))return{};const M=t.value.length,h=n.value.nomination.nominator;if(typeof h!="number")return{};if($.value)return{transform:`rotate(${Math.round(h/M*360)}deg)`,transitionDuration:n.value.votingSpeed-100+"ms"};{const z=n.value.lockedVote,x=360*(h+Math.min(z,M))/M;return{transform:`rotate(${Math.round(x)}deg)`,transitionDuration:n.value.votingSpeed-100+"ms"}}}),$=C(()=>{if(!Y(n.value.nomination))return null;const M=n.value.nomination.nominee;return typeof M=="number"&&t.value[M]||null}),O=C(()=>{if(!Y(n.value.nomination))return{};const M=t.value.length,h=n.value.nomination.nominee;if(typeof h!="number")return{};const z=n.value.lockedVote,x=360*(h+Math.min(z,M))/M;return{transform:`rotate(${Math.round(x)}deg)`,transitionDuration:n.value.votingSpeed-100+"ms"}}),u=C(()=>Y(n.value.nomination)?n.value.nomination.nominee===null||$.value?.role.team==="traveler":!1),m=C(()=>t.value.find(M=>M.id===n.value.playerId)),p=C(()=>{const M=t.value.findIndex(h=>h.id===n.value.playerId);return M>=0?!!n.value.votes[M]:void 0}),b=C(()=>{if(!Y(n.value.nomination))return"";if(_.value)return _.value.name;const M=n.value.nomination.nominator;return typeof M=="string"?M.charAt(0).toUpperCase()+M.slice(1):""}),S=C(()=>{if(!Y(n.value.nomination))return"";if($.value)return $.value.name;const M=n.value.nomination.nominee;return typeof M=="string"?M.charAt(0).toUpperCase()+M.slice(1):""}),y=C(()=>{if(!Y(n.value.nomination))return"";const M=n.value.nomination;return M.specialVote?.timerText?M.specialVote.timerText:$.value?.role?.team==="traveler"?e("vote.callexile"):e("vote.nominates")}),E=C(()=>Y(n.value.nomination)?!!n.value.nomination.specialVote?.timerText:!1),V=C(()=>{for(const M of t.value)if(M.role.id=="voudon")return!M.isDead;return!1}),N=C(()=>{if(!m.value||!Y(n.value.nomination))return!1;const M=n.value.nomination;if((m.value.isDead||m.value.role.id=="beggar")&&!m.value.voteToken&&!u.value&&!V.value||!m.value.isDead&&V.value&&!u.value)return!1;const h=n.value,z=t.value.length,x=t.value.indexOf(m.value);let q;return $.value&&typeof M.nominee=="number"?q=M.nominee:typeof M.nominator=="number"?q=M.nominator:q=0,(x-1+z-q)%z>=h.lockedVote-1}),D=C(()=>{if(!Y(n.value.nomination))return[];const M=n.value.nomination;let h;$.value&&typeof M.nominee=="number"?h=M.nominee:typeof M.nominator=="number"?h=M.nominator:h=0;const z=Array(t.value.length).fill("").map((q,F)=>n.value.votes[F]?t.value[F].name:""),x=[...z.slice(h+1),...z.slice(0,h+1)];return(n.value.lockedVote?x.slice(0,n.value.lockedVote-1):x).filter(q=>!!q)}),L=()=>{s.commit("session/lockVote",0),s.commit("session/setVoteInProgress",!0),f.value=setInterval(()=>{W()},4e3)},W=()=>{s.commit("session/lockVote",1),s.commit("session/setVoteInProgress",!0),f.value&&clearInterval(f.value),f.value=setInterval(()=>{s.commit("session/lockVote"),n.value.lockedVote>t.value.length&&(f.value&&clearInterval(f.value),s.commit("session/setVoteInProgress",!1))},n.value.votingSpeed)},J=()=>{f.value?(clearInterval(f.value),f.value=null):f.value=setInterval(()=>{s.commit("session/lockVote"),n.value.lockedVote>t.value.length&&(f.value&&clearInterval(f.value),s.commit("session/setVoteInProgress",!1))},n.value.votingSpeed)},oe=()=>{f.value&&clearInterval(f.value),f.value=null,s.commit("session/setVoteInProgress",!1),s.commit("session/lockVote",0)},le=()=>{f.value&&clearInterval(f.value),s.commit("session/addHistory",t.value),s.commit("session/nomination")},ue=M=>{if(!N.value)return!1;const h=t.value.findIndex(z=>z.id===n.value.playerId);return h>=0&&!!n.value.votes[h]!==M?(s.commit("session/voteSync",[h,M]),!0):!1},ae=M=>{const h=Math.round(n.value.votingSpeed+M);h>=0&&s.commit("session/setVotingSpeed",h)},T=()=>{s.commit("session/setMarkedPlayer",n.value.nomination.nominee)},I=()=>{s.commit("session/setMarkedPlayer",-1)};return Ko(()=>{f.value&&clearInterval(f.value)}),(M,h)=>{const z=ge("font-awesome-icon");return l(),r("div",ur,[o("div",mr,[$.value?(l(),r("span",{key:0,class:"nominee",style:te(O.value)},null,4)):v("",!0),_.value?(l(),r("span",{key:1,class:"nominator",style:te(k.value)},null,4)):v("",!0)]),o("div",dr,[h[5]||(h[5]=o("audio",{preload:"auto"},[o("source",{src:Gn})],-1)),o("em",_r,a(b.value),1),R(" "+a(y.value)+" ",1),E.value?v("",!0):(l(),r("em",vr,a(S.value),1)),R(" "+a(g(e)("vote.exclam"))+" ",1),h[6]||(h[6]=o("br",null,null,-1)),!i.value.isOrganVoteMode||$.value&&$.value.role.team=="traveler"||!n.value.isSpectator?(l(),r("em",fr,a(D.value?.length)+" "+a(g(e)("vote.votes")),1)):(l(),r("em",hr," ? "+a(g(e)("vote.votes")),1)),R(" "+a(g(e)("vote.inFavor"))+" ",1),$.value&&$.value.role.team!=="traveler"||n.value.nomination&&typeof n.value.nomination.nominee=="string"?(l(),r("em",yr," ("+a(g(e)("vote.majorityIs"))+" "+a(Math.ceil(d.value/2))+") ",1)):$.value?(l(),r("em",br," ("+a(g(e)("vote.majorityIs"))+" "+a(Math.ceil(t.value.length/2))+") ",1)):v("",!0),n.value.isSpectator?N.value?(l(),r(H,{key:6},[n.value.isVoteInProgress?v("",!0):(l(),r("div",$r,a(n.value.votingSpeed/1e3)+" "+a(g(e)("vote.secondsBetweenVotes")),1)),o("div",Ir,[o("div",{class:B(["button townsfolk",{disabled:!p.value}]),onClick:h[2]||(h[2]=x=>ue(!1))},a(g(e)("vote.handDown")),3),o("div",{class:B(["button demon",{disabled:p.value}]),onClick:h[3]||(h[3]=x=>ue(!0))},a(g(e)("vote.handUp")),3)])],64)):m.value?v("",!0):(l(),r("div",Mr,a(g(e)("vote.seatToVote")),1)):(l(),r(H,{key:5},[h[4]||(h[4]=o("br",null,null,-1)),i.value.isOrganVoteMode&&($.value&&$.value.role.team!=="traveler"||n.value.nomination&&typeof n.value.nomination.nominee=="string")?(l(),r("em",kr,a(g(e)("vote.secretBallot")),1)):v("",!0),!n.value.isVoteInProgress&&n.value.lockedVote<1?(l(),r("div",wr,[R(a(g(e)("vote.timePerPlayer"))+" ",1),w(z,{icon:"minus-circle",class:"fa fa-minus-circle",onMousedown:h[0]||(h[0]=ce(x=>ae(-250),["prevent"]))}),R(" "+a(n.value.votingSpeed/1e3)+"s ",1),w(z,{icon:"plus-circle",class:"fa fa-plus-circle",onMousedown:h[1]||(h[1]=ce(x=>ae(250),["prevent"]))})])):v("",!0),o("div",Sr,[n.value.isVoteInProgress?v("",!0):(l(),r("div",{key:0,class:"button townsfolk",onClick:L},a(g(e)("vote.countdown")),1)),n.value.isVoteInProgress?(l(),r(H,{key:2},[o("div",{class:B(["button townsfolk",{disabled:!n.value.lockedVote}]),onClick:J},a(f.value?g(e)("vote.pause"):g(e)("vote.resume")),3),o("div",{class:"button",onClick:oe},a(g(e)("vote.reset")),1)],64)):(l(),r("div",{key:1,class:"button",onClick:W},a(n.value.lockedVote?g(e)("vote.restart"):g(e)("vote.start")),1)),o("div",{class:"button demon",onClick:le},a(g(e)("vote.close")),1)]),!E.value&&(!$.value||$.value.role.team!=="traveler")?(l(),r("div",Cr,[o("div",{class:B(["button",{disabled:n.value.nomination?.nominee===n.value.markedPlayer}]),onClick:T},a(g(e)("vote.setMarked")),3),o("div",{class:"button",onClick:I},a(g(e)("vote.removeMarked")),1)])):v("",!0)],64)),i.value.timer.duration?(l(),G(Eo,{key:8,"timer-name":i.value.timer.name,"timer-duration":i.value.timer.duration},null,8,["timer-name","timer-duration"])):v("",!0)]),n.value.isVoteInProgress&&!n.value.lockedVote?(l(),r("div",Or,[h[8]||(h[8]=o("span",null,"3",-1)),h[9]||(h[9]=o("span",null,"2",-1)),h[10]||(h[10]=o("span",null,"1",-1)),o("span",null,a(g(e)("vote.doVote")),1),o("audio",{autoplay:!i.value.isMuted,muted:i.value.isMuted},h[7]||(h[7]=[o("source",{src:Gn},null,-1)]),8,Nr)])):v("",!0)])}}}),Rr=ne(Vr,[["__scopeId","data-v-53d92f8b"]]),xr=["src"],Pr={id:"version"},Tr=ee({__name:"App",setup(c){const s=se(),e=ei.version,t=K(null),n=C(()=>s.state.grimoire),i=C(()=>s.state.session),d=C(()=>s.state.edition),f=C(()=>s.state.players.players),_=C(()=>n.value.isStreamerMode?"none":n.value.background||d.value.background||"none"),k=C(()=>n.value.isStreamerMode?"#000000":"transparent");function $({key:O,ctrlKey:u,metaKey:m}){if(!(u||m))switch(O.toLocaleLowerCase()){case"g":s.commit("toggleGrimoire");break;case"a":t.value?.addPlayer();break;case"h":t.value?.hostSession();break;case"j":t.value?.joinSession();break;case"r":s.commit("toggleModal","reference");break;case"n":s.commit("toggleModal","nightOrder");break;case"e":if(i.value.isSpectator)return;s.commit("toggleModal","edition");break;case"c":if(i.value.isSpectator)return;s.commit("toggleModal","roles");break;case"v":(i.value.voteHistory.length||!i.value.isSpectator)&&s.commit("toggleModal","voteHistory");break;case"s":if(i.value.isSpectator)return;t.value?.toggleNight();break;case"b":if(i.value.isSpectator)return;t.value?.toggleRinging();break;case"escape":s.commit("toggleModal")}}return(O,u)=>(l(),r("div",{id:"app",tabindex:"-1",class:B({night:n.value.isNight,static:n.value.isStatic}),style:te({backgroundImage:`url('${_.value}')`,backgroundColor:`${k.value}`}),onKeyup:$},[_.value&&_.value.match(/\.(mp4|webm)$/i)?(l(),r("video",{key:0,id:"background",src:_.value,autoplay:"",loop:""},null,8,xr)):v("",!0),u[0]||(u[0]=o("div",{class:"backdrop"},null,-1)),f.value.length?v("",!0):(l(),G(ci,{key:1})),f.value.length&&!i.value.nomination?(l(),G(Ol,{key:2})):v("",!0),i.value.nomination?(l(),G(Rr,{key:3})):v("",!0),w(pr),w(Ii,{ref_key:"menuRef",ref:t},null,512),w(Qi),w(sa),w(Aa),w(Pa),w(ba),w(pl),w(ia),w(Ya),w(oi),o("span",Pr,"v"+a(g(e)),1)],38))}}),jr="modulepreload",Dr=function(c){return"/"+c},co={},zo=function(s,e,t){let n=Promise.resolve();if(e&&e.length>0){let d=function(k){return Promise.all(k.map($=>Promise.resolve($).then(O=>({status:"fulfilled",value:O}),O=>({status:"rejected",reason:O}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),_=f?.nonce||f?.getAttribute("nonce");n=d(e.map(k=>{if(k=Dr(k),k in co)return;co[k]=!0;const $=k.endsWith(".css"),O=$?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${k}"]${O}`))return;const u=document.createElement("link");if(u.rel=$?"stylesheet":jr,$||(u.as="script"),u.crossOrigin="",u.href=k,_&&u.setAttribute("nonce",_),document.head.appendChild(u),$)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${k}`)))})}))}function i(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return n.then(d=>{for(const f of d||[])f.status==="rejected"&&i(f.reason);return s().catch(i)})},Er={};class zr{_wss;_socket;_isSpectator;_gamestate;_store;_pingInterval;_pingTimer;_reconnectTimer;_players;_pings;constructor(s){this._wss=Er.VITE_SERVER_URL||"wss://live.clocktower.online:8080/",this._socket=null,this._isSpectator=!0,this._gamestate=[],this._store=s,this._pingInterval=30*1e3,this._pingTimer=null,this._reconnectTimer=null,this._players={},this._pings={},this._store.state.session.sessionId&&this.connect(this._store.state.session.sessionId)}_open(s){this.disconnect(),this._socket=new WebSocket(this._wss+s+"/"+(this._isSpectator?this._store.state.session.playerId:"host")),this._socket.addEventListener("message",this._handleMessage.bind(this)),this._socket.onopen=this._onOpen.bind(this),this._socket.onclose=e=>{this._socket=null,this._pingTimer&&clearInterval(this._pingTimer),this._pingTimer=null,e.code!==1e3?(this._store.commit("session/setReconnecting",!0),this._reconnectTimer=setTimeout(()=>this.connect(s),3*1e3)):(this._store.commit("session/setSessionId",""),e.reason&&alert(e.reason))}}_send(s,e){this._socket&&this._socket.readyState===1&&this._socket.send(JSON.stringify([s,e]))}_sendDirect(s,e,t){s?this._send("direct",{[s]:[e,t]}):this._send(e,t)}_onOpen(){this._isSpectator?this._sendDirect("host","getGamestate",this._store.state.session.playerId):this.sendGamestate(),this._ping()}_ping(){this._handlePing(),this._send("ping",[this._isSpectator?this._store.state.session.playerId:Object.keys(this._players).length,"latency"]),this._pingTimer&&clearTimeout(this._pingTimer),this._pingTimer=setTimeout(this._ping.bind(this),this._pingInterval)}_handleMessage({data:s}){let e="",t;try{[e,t]=JSON.parse(s)}catch(n){console.log("unsupported socket message",n,s);return}switch(e){case"getGamestate":this.sendGamestate(t,!1);break;case"edition":this._updateEdition(t);break;case"fabled":this._updateFabled(t);break;case"gs":this._updateGamestate(t);break;case"player":this._updatePlayer(t);break;case"claim":this._updateSeat(t);break;case"ping":this._handlePing(t);break;case"nomination":if(!this._isSpectator)return;t||this._store.commit("session/addHistory",this._store.state.players.players),this._store.commit("session/nomination",{nomination:t});break;case"swap":if(!this._isSpectator)return;this._store.commit("players/swap",t);break;case"move":if(!this._isSpectator)return;this._store.commit("players/move",t);break;case"remove":if(!this._isSpectator)return;this._store.commit("players/remove",t);break;case"marked":if(!this._isSpectator)return;this._store.commit("session/setMarkedPlayer",t);break;case"isNight":if(!this._isSpectator)return;this._store.commit("toggleNight",!!t);break;case"isOrganVoteMode":if(!this._isSpectator)return;this._store.commit("toggleOrganVoteMode",t);break;case"isRinging":if(!this._isSpectator)return;this._store.commit("toggleRinging",t);break;case"isRooster":if(!this._isSpectator)return;this._store.commit("toggleRooster",t);break;case"setTimer":if(!this._isSpectator)return;this._store.commit("setTimer",t);break;case"isVoteHistoryAllowed":if(!this._isSpectator)return;this._store.commit("session/setVoteHistoryAllowed",t),this._store.commit("session/clearVoteHistory");break;case"votingSpeed":if(!this._isSpectator)return;this._store.commit("session/setVotingSpeed",t);break;case"clearVoteHistory":if(!this._isSpectator)return;this._store.commit("session/clearVoteHistory");break;case"isVoteInProgress":if(!this._isSpectator)return;this._store.commit("session/setVoteInProgress",t);break;case"vote":this._handleVote(t);break;case"lock":this._handleLock(t);break;case"bye":this._handleBye(t);break;case"pronouns":this._updatePlayerPronouns(t);break}}connect(s){this._store.state.session.playerId||this._store.commit("session/setPlayerId",Math.random().toString(36).substr(2)),this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._isSpectator=this._store.state.session.isSpectator,this._open(s)}disconnect(){this._pings={},this._store.commit("session/setPlayerCount",0),this._store.commit("session/setPing",0),this._store.commit("session/setReconnecting",!1),this._reconnectTimer&&clearTimeout(this._reconnectTimer),this._socket&&(this._isSpectator&&this._sendDirect("host","bye",this._store.state.session.playerId),this._socket.close(1e3),this._socket=null)}sendGamestate(s="",e=!1){if(!this._isSpectator)if(this._gamestate=this._store.state.players.players.map(t=>({name:t.name,id:t.id,isDead:t.isDead,voteToken:t.voteToken,pronouns:t.pronouns,...t.role&&t.role.team==="traveler"?{roleId:t.role.id}:{}})),e)this._sendDirect(s,"gs",{gamestate:this._gamestate,isLightweight:e});else{const{session:t,grimoire:n}=this._store.state,{fabled:i}=this._store.state.players;this.sendEdition(s),this._sendDirect(s,"gs",{gamestate:this._gamestate,isNight:n.isNight,isRinging:n.isRinging,isRooster:n.isRooster,timer:n.timer,isVoteHistoryAllowed:t.isVoteHistoryAllowed,isOrganVoteMode:n.isOrganVoteMode,nomination:t.nomination,votingSpeed:t.votingSpeed,lockedVote:t.lockedVote,isVoteInProgress:t.isVoteInProgress,markedPlayer:t.markedPlayer,fabled:i.map(d=>d.isCustom?d:{id:d.id}),...t.nomination?{votes:t.votes}:{}})}}_updateGamestate(s){if(!this._isSpectator)return;const{gamestate:e,isLightweight:t,isNight:n,isVoteHistoryAllowed:i,isRinging:d,isOrganVoteMode:f,timer:_,nomination:k,votingSpeed:$,votes:O,lockedVote:u,isVoteInProgress:m,markedPlayer:p,fabled:b}=s,S=this._store.state.players.players;if(S.length<e.length)for(let y=S.length;y<e.length;y++)this._store.commit("players/add",String(e[y]?.name??""));else if(S.length>e.length)for(let y=S.length;y>e.length;y--)this._store.commit("players/remove",y-1);e.forEach((y,E)=>{const N=this._store.state.players.players[E],{roleId:D}=y;if(["name","id","isDead","voteToken","pronouns"].forEach(L=>{const W=y[L];N&&N[L]!==W&&this._store.commit("players/update",{player:N,property:L,value:W})}),N&&D&&N.role.id!==D){const L=this._store.state.roles.get(D)||this._store.getters.rolesJSONbyId.get(D);L&&this._store.commit("players/update",{player:N,property:"role",value:L})}else N&&!D&&N.role.team==="traveler"&&this._store.commit("players/update",{player:N,property:"role",value:{}})}),t||(this._store.commit("timer",_),this._store.commit("toggleRinging",!!d),this._store.commit("toggleNight",!!n),this._store.commit("session/setVoteHistoryAllowed",i),this._store.commit("toggleOrganVoteMode",!!f),this._store.commit("session/nomination",{nomination:k,votes:O,votingSpeed:$,lockedVote:u,isVoteInProgress:m}),this._store.commit("session/setMarkedPlayer",p),this._store.commit("players/setFabled",{fabled:b.map(y=>this._store.state.fabled.get(y.id)||y)}))}sendEdition(s=""){if(this._isSpectator)return;const{edition:e}=this._store.state;let t;e&&!e.isOfficial&&(t=this._store.getters.customRolesStripped),this._sendDirect(s,"edition",{edition:e&&e.isOfficial?{id:e.id}:e,...t?{roles:t}:{}})}_updateEdition({edition:s,roles:e}){if(this._isSpectator&&(this._store.commit("setEdition",s),e&&(this._store.commit("setCustomRoles",e),this._store.state.roles.size!==e.length))){const t=[];e.forEach(n=>{const i=n.id||n.id;this._store.state.roles.get(i)||t.push(i)}),alert(`This session contains custom characters that can't be found. Please load them before joining! Missing roles: ${t.join(", ")}`),this.disconnect(),this._store.commit("toggleModal","edition")}}sendFabled(){if(this._isSpectator)return;const{fabled:s}=this._store.state.players;this._send("fabled",s.map(e=>e.isCustom?e:{id:e.id}))}_updateFabled(s){this._isSpectator&&this._store.commit("players/setFabled",{fabled:s.map(e=>this._store.state.fabled.get(e.id)||e)})}sendPlayer({player:s,property:e,value:t}){if(this._isSpectator||e==="reminders")return;const n=this._store.state.players.players.indexOf(s);if(e==="role"){const i=t;i.team&&i.team==="traveler"?(this._gamestate[n]&&(this._gamestate[n].roleId=i.id),this._send("player",{index:n,property:e,value:i.id})):this._gamestate[n]?.roleId&&(delete this._gamestate[n].roleId,this._send("player",{index:n,property:e,value:""}))}else this._send("player",{index:n,property:e,value:t})}_updatePlayer({index:s,property:e,value:t}){if(!this._isSpectator)return;const n=this._store.state.players.players[s];if(n)if(e==="role")if(!t&&n.role.team==="traveler")this._store.commit("players/update",{player:n,property:"role",value:{}});else{const i=this._store.state.roles.get(t)||this._store.getters.rolesJSONbyId.get(t)||{};this._store.commit("players/update",{player:n,property:"role",value:i})}else this._store.commit("players/update",{player:n,property:e,value:t})}sendPlayerPronouns({player:s,value:e,isFromSockets:t}){if(t||this._isSpectator&&this._store.state.session.playerId!==s.id)return;const n=this._store.state.players.players.indexOf(s);this._send("pronouns",[n,e])}_updatePlayerPronouns([s,e]){const t=this._store.state.players.players[s];this._store.commit("players/update",{player:t,property:"pronouns",value:e,isFromSockets:!0})}_handlePing([s=0,e]=[]){const t=new Date().getTime();if(this._isSpectator)e&&this._store.commit("session/setPing",parseInt(e,10));else{for(let n in this._players)this._players[n]&&t-this._players[n]>this._pingInterval*2&&(delete this._players[n],delete this._pings[n]);if(this._store.state.players.players.forEach(n=>{n.id&&!this._players[n.id]&&this._store.commit("players/update",{player:n,property:"id",value:""})}),s){this._players[s]=t;const n=parseInt(e,10);if(n&&n>0&&n<30*1e3){this._pings[s]=n;const i=Object.values(this._pings);this._store.commit("session/setPing",Math.round(i.reduce((d,f)=>d+f,0)/i.length))}}}(!this._isSpectator||s)&&this._store.commit("session/setPlayerCount",this._isSpectator?s:Object.keys(this._players).length)}_handleBye(s){this._isSpectator||(delete this._players[s],this._store.commit("session/setPlayerCount",Object.keys(this._players).length))}claimSeat(s){if(!this._isSpectator)return;const e=this._store.state.players.players;e.length>s&&(s<0||!e[s]?.id)&&this._send("claim",[s,this._store.state.session.playerId])}_updateSeat([s,e]){if(this._isSpectator)return;const t="id",n=this._store.state.players.players,i=n.findIndex(({id:d})=>d===e);if(i>=0&&i!==s&&this._store.commit("players/update",{player:n[i],property:t,value:""}),s>=0){const d=n[s];if(!d)return;this._store.commit("players/update",{player:d,property:t,value:e})}this._handlePing([1,e])}distributeRoles(){if(this._isSpectator)return;const s={};this._store.state.players.players.forEach((e,t)=>{e.id&&e.role&&(s[e.id]=["player",{index:t,property:"role",value:e.role.id}])}),Object.keys(s).length&&this._send("direct",s)}nomination(s){if(this._isSpectator)return;const e=s&&(s.nomination||s),t=this._store.state.players.players;(!e||(typeof e.nominator!="number"||t.length>e.nominator)&&(typeof e.nominee!="number"||t.length>e.nominee))&&(this.setVotingSpeed(this._store.state.session.votingSpeed),this._send("nomination",e))}setVoteInProgress(){this._isSpectator||this._send("isVoteInProgress",this._store.state.session.isVoteInProgress)}setIsNight(){this._isSpectator||this._send("isNight",this._store.state.grimoire.isNight)}setIsRinging(){this._isSpectator||this._send("isRinging",this._store.state.grimoire.isRinging)}setIsRooster(){this._isSpectator||this._send("isRooster",this._store.state.grimoire.isRooster)}setIsOrganVoteMode(){this._isSpectator||this._send("isOrganVoteMode",this._store.state.grimoire.isOrganVoteMode)}setTimer(){this._isSpectator||this._send("setTimer",this._store.state.grimoire.timer)}setVoteHistoryAllowed(){this._isSpectator||this._send("isVoteHistoryAllowed",this._store.state.session.isVoteHistoryAllowed)}setVotingSpeed(s){this._isSpectator||s&&this._send("votingSpeed",s)}setMarked(s){this._isSpectator||this._send("marked",s)}clearVoteHistory(){this._isSpectator||this._send("clearVoteHistory",null)}vote([s]){const e=this._store.state.players.players[s];(this._store.state.session.playerId===e?.id||!this._isSpectator)&&this._send("vote",[s,this._store.state.session.votes[s],!this._isSpectator])}_handleVote([s,e,t]){const{session:n,players:i}=this._store.state,d=i.players.length,f=(s-1+d-(typeof n.nomination?.nominee=="number"?n.nomination.nominee:n.nomination?.nominator||0))%d;(t||f>=n.lockedVote-1)&&this._store.commit("session/vote",[s,e])}lockVote(){if(this._isSpectator)return;const{lockedVote:s,votes:e,nomination:t}=this._store.state.session,{players:n}=this._store.state.players,i=((typeof t?.nominee=="number"?t.nominee:t?.nominator||0)+s-1)%n.length;this._send("lock",[this._store.state.session.lockedVote,e[i]])}_handleLock([s,e]){if(this._isSpectator&&(this._store.commit("session/lockVote",s),s>1)){const{lockedVote:t,nomination:n}=this._store.state.session,{players:i}=this._store.state.players,d=((typeof n?.nominee=="number"?n.nominee:n?.nominator||0)+t-1)%i.length;this._store.state.session.votes[d]!==e&&this._store.commit("session/vote",[d,e])}}swapPlayer(s){this._isSpectator||this._send("swap",s)}movePlayer(s){this._isSpectator||this._send("move",s)}removePlayer(s){this._isSpectator||this._send("remove",s)}}const Br=c=>{const s=new zr(c);c.subscribe(({type:t,payload:n},i)=>{switch(t){case"session/setSessionId":i.session.sessionId?s.connect(i.session.sessionId):(window.location.hash="",s.disconnect());break;case"session/claimSeat":s.claimSeat(n);break;case"session/distributeRoles":n&&s.distributeRoles();break;case"session/nomination":case"session/setNomination":s.nomination(n);break;case"session/setVoteInProgress":s.setVoteInProgress();break;case"session/voteSync":s.vote(n);break;case"session/lockVote":s.lockVote();break;case"session/setVotingSpeed":s.setVotingSpeed(n);break;case"session/clearVoteHistory":s.clearVoteHistory();break;case"session/setVoteHistoryAllowed":s.setVoteHistoryAllowed();break;case"toggleNight":s.setIsNight();break;case"toggleOrganVoteMode":s.setIsOrganVoteMode();break;case"toggleRinging":s.setIsRinging();break;case"toggleRooster":s.setIsRooster();break;case"setTimer":s.setTimer();break;case"setEdition":s.sendEdition();break;case"players/setFabled":s.sendFabled();break;case"session/setMarkedPlayer":s.setMarked(n);break;case"players/swap":s.swapPlayer(n);break;case"players/move":s.movePlayer(n);break;case"players/remove":s.removePlayer(n);break;case"players/set":case"players/clear":case"players/add":s.sendGamestate("",!0);break;case"players/update":{const d=n;d.property==="pronouns"?s.sendPlayerPronouns(d):s.sendPlayer(d);break}}});const e=window.location.hash.slice(1);e&&(c.commit("session/setSpectator",!0),c.commit("session/setSessionId",e),c.commit("toggleGrimoire",!1))},Ar=[{id:"tb",name:"Trouble Brewing",author:"The Pandemonium Institute",description:`Clouds roll in over Ravenswood Bluff, engulfing this sleepy town and its superstitious inhabitants in foreboding shadow. Freshly-washed clothes dance eerily on lines strung between cottages. Chimneys cough plumes of smoke into the air. Exotic scents waft through cracks in windows and under doors, as hidden cauldrons lay bubbling. An unusually warm Autumn breeze wraps around vine-covered walls and whispers ominously to those brave enough to walk the cobbled streets.

Anxious mothers call their children home from play, as thunder begins to clap on the horizon. If you listen more closely, however, noises stranger still can be heard echoing from the neighbouring forest. Under the watchful eye of a looming monastery, silhouetted figures skip from doorway to doorway. Those who can read the signs know there is... Trouble Brewing.`,level:"Beginner",roles:[],logo:"tb",isOfficial:!0},{id:"snv",name:"Sects & Violets",author:"The Pandemonium Institute",description:`Vibrant spring gives way to a warm and inviting summer. Flowers of every description blossom as far as the eye can see, tenderly nurtured in public gardens and window boxes overlooking the lavish promenade. Birds sing, artists paint and philosophers ponder life's greatest mysteries inside a bustling tavern as a circus pitches its endearingly ragged tent on the edge of town.

As the townsfolk bask in frivolity and mischief, indulging themselves in fine entertainment and even finer wine, dark and clandestine forces are assembling. Witches and cults lurk in majestic ruins on the fringes of the community, hosting secret meetings in underground caves and malevolently plotting the downfall of Ravenswood Bluff and its revelers.

The time is ripe for... Sects & Violets.`,level:"Intermediate",roles:[],logo:"snv",isOfficial:!0},{id:"bmr",name:"Bad Moon Rising",author:"The Pandemonium Institute",description:`The sun is swallowed by a jagged horizon as another winter's day surrenders to the night. Flecks of orange and red decay into deeper browns, the forest transforming in silent anticipation of the coming snow.

Ravenous wolves howl from the bowels of a rocky crevasse beyond the town borders, sending birds scattering from their cozy rooks. Travelers hurry into the inn, seeking shelter from the gathering chill. They warm themselves with hot tea, sweet strains of music and hearty ale, unaware that strange and nefarious eyes stalk them from the ruins of this once great city.

Tonight, even the livestock know there is a... Bad Moon Rising.`,level:"Intermediate",roles:[],logo:"bmr",isOfficial:!0}],Hr=[["Anonymous Dishonesty","anonymous_dishonesty.json"],["Boozling","boozling.json"],["Catfishing","catfishing.json"],["Chef's Deluxe","chefs_deluxe.json"],["Church of Spies","church_of_spies.json"],["Contempt","contempt.json"],["Cultists of Atlantis","cultists_of_atlantis.json"],["Deadly Penance Day","deadly_penance_day.json"],["Devout Theists","devout_theists.json"],["Dusk in the House of the Damned","dusk_in_the_house_of_the_damned.json"],["Extension Cord","extension_cord.json"],["A Grimm Chorus","grimm_chorus.json"],["Harold Holt's Revenge","harold_holts_revenge.json"],["Hide & Seek","hide_and_seek.json"],["The Horrifying Spectacle of Public Executions","the_horrifying_spectacle_of_public_executions.json"],["Insanity & Intuition","insanity_and_intuition.json"],["Irrational Behaviour","irrational_behaviour.json"],["Knowing me, Knowing you","knowing_me_knowing_you.json"],["Lunar Eclipse","lunar_eclipse.json"],["Midnight Oasis","midnight_oasis.json"],["Monkey Do Math","monkey_do_math.json"],["No roles barred","no_roles_barred.json"],["One in one out","one_in_one_out.json"],["The Ones You Least Expect","the_ones_you_least_expect.json"],["Poppyganda","poppyganda.json"],["Punchy","punchy.json"],["Quick Maths","quick_maths.json"],["Reptiles !","reptiles.json"],["Reptiles II : Lizard in the city","reptiles2.json"],["Revenge of the Martian Vampires","revenge_of_the_martian_vampires.json"],["Reykjavik's Scheme","reykjaviks_scheme.json"],["Rochambeau","rochambeau.json"],["Separation Of Church and State","separation_church_state.json"],["Simpletown Village","simpletown_village.json"],["Storyteller's Vengeance","storytellers_vengeance.json"],["Trouble Brewing Advanced","trouble_brewing_advanced.json"],["Trouble with Violets","trouble_with_violets.json"],["Uncertain Death","uncertain_death.json"],["Visitors","visitors.json"],["Whose Cult is it Anyway","whose_cult_is_it_anyway.json"]],qr=[["Comrade Demon","comrade_demon.json"],["Frankenstein's Mayor","frankensteins_mayor.json"],["Laissez un faire","laissez_un_faire.json"],["Late night drive by","late_night_drive_by.json"],["A Lleech of Distrust","a_lleech_of_distrust.json"],["Minion is Angel Protected & the Demon Has 2 Bluffs","minion_is_angel_protected_and_the_demon_has_2_bluffs.json"],["No greater joy","no_greater_joy.json"],["On thin ice","on_thin_ice.json"],["Over the River","over_the_river.json"],["Race to the bottom","race_to_the_bottom.json"],["Spooky tea","spooky_tea.json"],["Spooky tea 2 : Very spooky","spooky_tea2.json"],["Vigormortis High school","vigormortis_high_school.json"]],Lr={official:Ar,popular:Hr,teensyville:qr},Bo={name:"",id:"",role:{},reminders:[],voteToken:!1,isDead:!1,pronouns:""},Fr=()=>({players:[],fabled:[],bluffs:[]}),Jr={alive({players:c}){return c.filter(s=>!s.isDead).length},nonTravelers({players:c}){const s=c.filter(e=>e.role.team!=="traveler");return Math.min(s.length,15)},nightOrder({players:c,fabled:s},e,{edition:t}){function n(k,$){return $&&k.role.firstNightEdition?k.role.firstNightEdition:k.role.firstNight||0}function i(k,$){return $&&k.role.otherNightEdition?k.role.otherNightEdition:k.role.otherNight||0}const d=[0],f=[0];s.forEach(k=>{k.firstNight&&d.push(k),k.otherNight&&f.push(k)}),c.forEach(k=>{k.role.firstNight&&d.push(k),k.role.otherNight&&f.push(k)}),d.sort((k,$)=>(k.role?n(k,t.isOfficial||!1):k.firstNight||0)-($.role?n($,t.isOfficial||!1):$.firstNight||0)),f.sort((k,$)=>(k.role?i(k,t.isOfficial||!1):k.otherNight||0)-($.role?i($,t.isOfficial||!1):$.otherNight||0));const _=new Map;return c.forEach(k=>{const $=Math.max(d.indexOf(k),0),O=Math.max(f.indexOf(k),0);_.set(k,{first:$,other:O})}),s.forEach(k=>{const $=Math.max(d.indexOf(k),0),O=Math.max(f.indexOf(k),0);_.set(k,{first:$,other:O})}),_}},Ur={randomize({state:c,commit:s}){const e=c.players.map(t=>[Math.random(),t]).sort((t,n)=>t[0]-n[0]).map(t=>t[1]);s("set",e)},clearRoles({state:c,commit:s,rootState:e}){let t;e.session.isSpectator?t=c.players.map(n=>(n.role.team!=="traveler"&&(n.role={}),n.reminders=[],n)):t=c.players.map(({name:n,id:i,pronouns:d})=>({...Bo,name:n,id:i,pronouns:d})),s("set",t),s("setBluff")}},Gr={clear(c){c.players=[],c.bluffs=[],c.fabled=[]},set(c,s=[]){c.players=s},update(c,{player:s,property:e,value:t}){const n=c.players.indexOf(s);n>=0&&(c.players[n][e]=t)},add(c,s){c.players.push({...Bo,name:s})},remove(c,s){c.players.splice(s,1)},swap(c,[s,e]){c.players[s]&&c.players[e]&&([c.players[s],c.players[e]]=[c.players[e],c.players[s]],c.players.splice(0,0))},move(c,[s,e]){c.players.splice(e,0,c.players.splice(s,1)[0])},setBluff(c,{index:s,role:e}={}){s!==void 0?c.bluffs.splice(s,1,e):c.bluffs=[]},setFabled(c,{index:s,fabled:e}={}){s!==void 0?c.fabled.splice(s,1):e&&(Array.isArray(e)?c.fabled=e:c.fabled.push(e))}},Wr={namespaced:!0,state:Fr,getters:Jr,actions:Ur,mutations:Gr},go=(c,[s,e])=>{c.nomination&&(c.votes=[...c.votes],c.votes[s]=e===void 0?!c.votes[s]:e)},Zr=()=>({sessionId:"",isSpectator:!1,isReconnecting:!1,playerCount:0,ping:0,playerId:"",claimedSeat:-1,nomination:null,votes:[],lockedVote:0,votingSpeed:1e3,isVoteInProgress:!1,voteHistory:[],markedPlayer:-1,playerForSpecialVote:-1,isVoteHistoryAllowed:!0,isRolesDistributed:!1}),Kr={},Qr={},re=c=>(s,e)=>{s[c]=e},Xr={setPlayerId:re("playerId"),setSpectator:re("isSpectator"),setReconnecting:re("isReconnecting"),setPlayerCount:re("playerCount"),setPing:re("ping"),setVotingSpeed:re("votingSpeed"),setVoteInProgress:re("isVoteInProgress"),setMarkedPlayer:re("markedPlayer"),setPlayerForSpecialVote:re("playerForSpecialVote"),setNomination:re("nomination"),setVoteHistoryAllowed:re("isVoteHistoryAllowed"),claimSeat:re("claimedSeat"),distributeRoles:re("isRolesDistributed"),setSessionId(c,s){c.sessionId=s.toLocaleLowerCase().replace(/[^0-9a-z]/g,"").substring(0,10)},nomination(c,{nomination:s,votes:e,votingSpeed:t,lockedVote:n,isVoteInProgress:i}={}){c.nomination=s??null,c.votes=e||[],c.votingSpeed=t||c.votingSpeed,c.lockedVote=n||0,c.isVoteInProgress=i||!1},addHistory(c,s){if(!c.isVoteHistoryAllowed&&c.isSpectator||!Y(c.nomination)||c.lockedVote<=s.length)return;const e=c.nomination,t=Ua(e,s),n=Un.state.grimoire.isOrganVoteMode&&!t,i={timestamp:new Date,nominator:typeof e.nominator=="number"?s[e.nominator]?.name||"":e.nominator||"",nominee:typeof e.nominee=="number"?s[e.nominee]?.name||"":e.nominee||"",type:e.specialVote?.type||(t?Un.state.locale.modal.voteHistory.exile:Un.state.locale.modal.voteHistory.execution+(n&&!c.isSpectator?"*":"")),majority:Math.ceil(s.filter(d=>!d.isDead||t).length/2),votes:n&&c.isSpectator?null:s.filter((d,f)=>c.votes[f]).map(({name:d})=>d)};c.voteHistory.push(i)},clearVoteHistory(c){c.voteHistory=[]},vote:go,voteSync:go,lockVote(c,s){c.lockedVote=s!==void 0?s:c.lockedVote+1}},Yr={namespaced:!0,state:Zr,getters:Kr,actions:Qr,mutations:Xr};function ve(c){try{return c?JSON.parse(c):null}catch{return null}}const ec=c=>{const s=O=>document.title=`Blood on the Clocktower ${O?"Town Square":"Grimoire"}`,e=localStorage.getItem("background");e&&c.commit("setBackground",e),localStorage.getItem("muted")&&c.commit("toggleMuted",!0),localStorage.getItem("static")&&c.commit("toggleStatic",!0),localStorage.getItem("imageOptIn")&&c.commit("toggleImageOptIn",!0),localStorage.getItem("streamerMode")&&c.commit("toggleStreamerMode",!0),localStorage.getItem("organVoteMode")&&c.commit("toggleOrganVoteMode",!0);const t=localStorage.getItem("zoom");t&&c.commit("setZoom",parseFloat(t)),localStorage.getItem("isGrimoire")&&(c.commit("toggleGrimoire",!1),s(!1));const n=localStorage.getItem("roles");n!==null&&(c.commit("setCustomRoles",ve(n)??[]),c.commit("setEdition",{id:"custom"}));const i=localStorage.getItem("edition");i!==null&&c.commit("setEdition",JSON.parse(i));const d=localStorage.getItem("bluffs");d!==null&&(ve(d)??[]).forEach((O,u)=>{const m=c.state.roles.get(O)??{id:""};c.commit("players/setBluff",{index:u,role:m})});const f=localStorage.getItem("fabled");if(f!==null){const O=ve(f)??[];c.commit("players/setFabled",{fabled:O.map(u=>c.state.fabled.get(u.id)??u)})}const _=localStorage.getItem("players");if(_){const O=ve(_)??[],u=c.getters.rolesJSONbyId,m=O.map(p=>({...p,role:c.state.roles.get(p.role)||u.get(p.role)||{id:""}}));c.commit("players/set",m)}const k=localStorage.getItem("playerId");k&&c.commit("session/setPlayerId",k);const $=localStorage.getItem("session");if($&&!window.location.hash.slice(1)){const O=ve($);if(O){const[u,m]=O;c.commit("session/setSpectator",u),c.commit("session/setSessionId",m)}}c.subscribe(({type:O,payload:u},m)=>{switch(O){case"toggleGrimoire":m.grimoire.isPublic?localStorage.removeItem("isGrimoire"):localStorage.setItem("isGrimoire","1"),s(m.grimoire.isPublic);break;case"setBackground":u?localStorage.setItem("background",String(u)):localStorage.removeItem("background");break;case"toggleMuted":m.grimoire.isMuted?localStorage.setItem("muted","1"):localStorage.removeItem("muted");break;case"toggleStatic":m.grimoire.isStatic?localStorage.setItem("static","1"):localStorage.removeItem("static");break;case"toggleImageOptIn":m.grimoire.isImageOptIn?localStorage.setItem("imageOptIn","1"):localStorage.removeItem("imageOptIn");break;case"toggleStreamerMode":m.grimoire.isStreamerMode?localStorage.setItem("streamerMode","1"):localStorage.removeItem("streamerMode");break;case"toggleOrganVoteMode":m.grimoire.isOrganVoteMode?localStorage.setItem("organVoteMode","1"):localStorage.removeItem("organVoteMode");break;case"setZoom":u!==0?localStorage.setItem("zoom",String(u)):localStorage.removeItem("zoom");break;case"setEdition":localStorage.setItem("edition",JSON.stringify(u)),m.edition?.isOfficial&&localStorage.removeItem("roles");break;case"setCustomRoles":!Array.isArray(u)||u.length===0?localStorage.removeItem("roles"):localStorage.setItem("roles",JSON.stringify(u));break;case"players/setBluff":localStorage.setItem("bluffs",JSON.stringify(m.players.bluffs.map(({id:p})=>p)));break;case"players/setFabled":localStorage.setItem("fabled",JSON.stringify(m.players.fabled.map(p=>p.isCustom?p:{id:p.id})));break;case"players/add":case"players/update":case"players/remove":case"players/clear":case"players/set":case"players/swap":case"players/move":m.players.players.length?localStorage.setItem("players",JSON.stringify(m.players.players.map(p=>({...p,role:p.role.id||{}})))):localStorage.removeItem("players");break;case"session/setSessionId":u?localStorage.setItem("session",JSON.stringify([m.session.isSpectator,u])):localStorage.removeItem("session");break;case"session/setPlayerId":u?localStorage.setItem("playerId",String(u)):localStorage.removeItem("playerId");break}})},Qn=Lr,po=c=>(s,e)=>{s.grimoire[c]=e},me=c=>({grimoire:s},e)=>{e===!0||e===!1?s[c]=e:s[c]=!s[c]},sc=async()=>{const{locale:c,rolesJSON:s,jinxesJSON:e,fabledJSON:t}=await zo(async()=>{const{locale:n,rolesJSON:i,jinxesJSON:d,fabledJSON:f}=await import("./locale.Dhppz3g2.js");return{locale:n,rolesJSON:i,jinxesJSON:d,fabledJSON:f}},__vite__mapDeps([0,1,2]));return{locale:c,rolesJSON:s,jinxesJSON:e,fabledJSON:t}},uo=()=>Qn.official[0]??{id:"custom",name:"Custom",isOfficial:!1,roles:[]},tc=async()=>{const{locale:c,rolesJSON:s,jinxesJSON:e,fabledJSON:t}=await sc(),n=await zo(()=>import("./ui.DGk05tUb.js"),[]),i=(m=uo())=>new Map(s.default.filter(p=>p.edition===m.id||(m.roles||[]).includes(p.id)).sort((p,b)=>String(b.team).localeCompare(String(p.team))).map(p=>[p.id,p])),d=(m=uo())=>new Map(s.default.filter(p=>p.team==="traveler"&&p.edition!==m.id&&!(m.roles||[]).includes(p.id)).map(p=>[p.id,p])),f=m=>m.toLocaleLowerCase().replace(/[^a-z0-9]/g,""),_=new Map(Qn.official.map(m=>[m.id,m])),k=new Map(s.default.map(m=>[m.id,m])),$=new Map(t.default.map(m=>[m.id,m]));let O=new Map;try{O=new Map(e.default.map(({id:m,hatred:p})=>[f(m),new Map(p.map(({id:b,reason:S})=>[f(b),S]))]))}catch(m){console.error("couldn't load jinxes",m)}const u={id:"",name:"",image:"",ability:"",edition:"custom",firstNight:0,firstNightReminder:"",otherNight:0,otherNightReminder:"",reminders:[],remindersGlobal:[],setup:!1,team:"townsfolk",isCustom:!0};return new Qo({modules:{players:Wr,session:Yr},state:{grimoire:{isNight:!1,isNightOrder:!1,isRinging:!1,isRooster:!1,isPublic:!0,isMenuOpen:!1,isStatic:!1,isMuted:!1,isImageOptIn:!1,isStreamerMode:!1,isOrganVoteMode:!1,zoom:0,background:"",timer:{name:"",duration:0}},modals:{edition:!1,fabled:!1,gameState:!1,nightOrder:!1,reference:!1,reminder:!1,role:!1,roles:!1,voteHistory:!1,specialVote:!1},edition:_.get("tb"),editions:Qn,roles:i(),otherTravelers:d(),fabled:$,jinxes:O,locale:c},getters:{t:m=>p=>{if(!p||typeof p!="string")return p;const b=p.split("."),S=(E,V)=>{let N=E;for(const D of V)if(N&&typeof N=="object"&&!Array.isArray(N)&&D in N)N=N[D];else return null;return N};let y=S(m.locale.default,b);return y===null&&(y=S(n.default,b)),y!==null?y:p},customRolesStripped:({roles:m})=>{const p=[],b=Object.keys(u),S=["firstNightReminder","otherNightReminder","isCustom"];return m.forEach(y=>{if(!y.isCustom)p.push({id:y.id});else{const E={},V=y,N=u;for(const D in V){if(S.includes(D))continue;const L=V[D];b.includes(D)&&L!==N[D]&&(E[String(b.indexOf(D))]=L)}p.push(E)}}),p},rolesJSONbyId:()=>k},mutations:{setZoom:po("zoom"),setBackground:po("background"),toggleMuted:me("isMuted"),toggleMenu:me("isMenuOpen"),toggleNightOrder:me("isNightOrder"),toggleStatic:me("isStatic"),toggleNight:me("isNight"),toggleRinging:me("isRinging"),toggleRooster:me("isRooster"),toggleGrimoire:me("isPublic"),toggleImageOptIn:me("isImageOptIn"),toggleStreamerMode:me("isStreamerMode"),toggleOrganVoteMode:me("isOrganVoteMode"),setTimer(m,p){m.grimoire.timer=p},toggleModal({modals:m},p){p&&(m[p]=!m[p]);for(const b in m)b!==p&&(m[b]=!1)},setCustomRoles(m,p){const b=p.map(S=>{if(Array.isArray(S)&&S[0]){const y=Object.keys(u),E={},V=S;for(const N in V){const D=y[N];D&&(E[D]=V[N])}return E}else return S}).map(S=>{const y=S;return y.id=f(String(y.id)),y}).map(S=>k.get(S.id)||m.roles.get(S.id)||{...u,...S}).map(S=>{if(k.get(S.id))return S;const y=S;return y.imageAlt={townsfolk:"townsfolk",outsider:"outsider",minion:"minion",demon:"demon",fabled:"fabled",traveler:"traveler"}[String(S.team)]||"custom",S.firstNight=Math.abs(Number(S.firstNight)),S.otherNight=Math.abs(Number(S.otherNight)),S}).filter(S=>S.name&&S.ability&&S.team).sort((S,y)=>String(y.team).localeCompare(String(S.team)));m.roles=new Map(b.filter(S=>S.team!=="fabled").map(S=>[S.id,S])),m.fabled=new Map([...b.filter(S=>S.team==="fabled").map(S=>[S.id,S]),...t.default.map(S=>[S.id,S])]),m.otherTravelers=new Map(s.default.filter(S=>S.team==="traveler"&&!p.some(y=>y.id===S.id)).map(S=>[S.id,S]))},setEdition(m,p){_.has(p.id)?(m.edition=_.get(p.id),m.roles=i(m.edition),m.otherTravelers=d(m.edition)):m.edition=p,m.modals.edition=!1}},plugins:[ec,Br]})};let Kn=null;const Un=async()=>(Kn||(Kn=await tc()),Kn),nc=["AddressCard","Bell","BookOpen","BookDead","Chair","CheckSquare","CloudMoon","Cog","Copy","Clipboard","Dice","Dragon","ExchangeAlt","ExclamationTriangle","FileCode","FileUpload","HandPaper","HandPointRight","Heartbeat","HouseUser","Image","Link","MinusCircle","MinusSquare","Music","PeopleArrows","Play","PlusCircle","Question","Random","RedoAlt","SearchMinus","SearchPlus","Skull","Square","TheaterMasks","Times","TimesCircle","TowerBroadcast","TrashAlt","Undo","User","UserEdit","UserFriends","Users","VenusMars","VolumeUp","VolumeMute","VoteYea","WindowMaximize","WindowMinimize"],oc=["Github","Discord"],ic=Ho,ac=qo;Ao.add(...nc.map(c=>ic["fa"+c]).filter(Boolean),...oc.map(c=>ac["fa"+c]).filter(Boolean));const lc=async()=>{const c=await Un(),s=Xo(Tr);s.component("FontAwesomeIcon",Lo),s.use(c),s.mount("#app")};lc().catch(console.error);export{zo as _};
